{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\pjk14\\\\Desktop\\\\Gradely\\\\gradely-react-redux\\\\src\\\\components\\\\utility-boxes\\\\adminOnly\\\\addUser\\\\AddUserModal.js\";\nimport React, { Component, useEffect } from 'react';\nimport axios from 'axios';\nimport UserListing from './UserListing';\nimport AddUserForm from './AddUserForm';\nimport teacherReducer from './../../../../reducer/teacher/teacherReducer';\nimport studentReducer from './../../../../reducer/student/studentReducer';\nimport { useSelector } from 'react-redux';\nimport adminReducer from './../../../../reducer/admin/adminReducer';\n\nclass AddUserModal extends Component {\n  constructor() {\n    super();\n    this.state = {\n      userList: [],\n      result: \"\",\n      search: \"\",\n      type: \"\"\n    };\n  }\n\n  handleSearchChange(value) {\n    this.setState({\n      search: value\n    });\n  }\n\n  handleTypeChange(value) {\n    this.setState({\n      type: value\n    });\n  } // deleteUser(u) {\n  //   const user = {\n  //     id: u.id\n  //   }\n  //   if (window.confirm(\"Are you sure you want to delete \" + u.firstName + \" \" + u.lastName)) {\n  //     axios.post(\"http://localhost:8080/delete\", user).then(response => {\n  //       console.log(u.id)\n  //       console.log(response.data)\n  //       const currentUser = response.data\n  //       if (currentUser.id === u.id) {\n  //         let tempUserList = this.props.userList\n  //         const index = tempUserList.findIndex(tempUser => {\n  //           return tempUser.id === u.id\n  //         })\n  //         tempUserList.splice(index, 1)\n  //         this.props.updateUserList(tempUserList)\n  //       } else {\n  //         console.log(\"error\")\n  //       }\n  //     })\n  //   } else {\n  //     console.log(\"Canceled\")\n  //   }\n  // }\n  // saveUser(user) {\n  //   if (!user.type) {\n  //     return \"User type not defined\"\n  //   }\n  //   let path = \"\"\n  //   switch (user.type) {\n  //     case \"TEACHER\":\n  //       path = \"teacher/new\"\n  //       break;\n  //     case \"PARENT\":\n  //       path = \"parent/new\"\n  //       break;\n  //     case \"STUDENT\":\n  //       path = \"student/new\"\n  //       break;\n  //     case \"ADMIN\":\n  //       path = \"admin/new\"\n  //       break;\n  //     default:\n  //       break;\n  //   }\n  //   const fullPath = \"http://localhost:8080/\" + path\n  //   axios.post(fullPath, user).then((response) => {\n  //     let tempUserList = this.props.userList\n  //     tempUserList.push(response.data)\n  //     //Instead of setting state, we need to send the data back\n  //     this.props.updateUserList(tempUserList)\n  //     // this.setState({\n  //     //   userList: tempUserList\n  //     // })\n  //   })\n  // }\n\n\n  componentWillMount() {}\n\n  render() {\n    const teacherList = useSelector(state => state.teacherReducer);\n    const studentList = useSelector(state => state.studentReducer);\n    const adminList = useSelector(state => state.adminReducer);\n    const parentList = useSelector(state => state.parentReducer);\n    let tempList = [];\n    let counter = 1;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      \"data-backdrop\": \"static\",\n      className: \"modal fade\",\n      id: \"addStudentModal\",\n      tabIndex: -1,\n      role: \"dialog\",\n      \"aria-labelledby\": \"exampleModalLabel\",\n      \"aria-hidden\": \"true\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal-dialog mw-100 w-75\",\n      role: \"document\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal-content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal-header\",\n      ref: this.focusRef,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      className: \"modal-title\",\n      id: \"exampleModalLabel\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 17\n      }\n    }, \"Add or Remove Users\"), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"close\",\n      \"data-dismiss\": \"modal\",\n      \"aria-label\": \"Close\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      \"aria-hidden\": \"true\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 19\n      }\n    }, \"\\xD7\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal-body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row pl-2 border-bottom\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      className: \"form-inline\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group mb-2 mr-sm-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group-prepend\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 27\n      }\n    }, \"Search\")), /*#__PURE__*/React.createElement(\"input\", {\n      onChange: e => this.handleSearchChange(e.target.value),\n      type: \"text\",\n      className: \"form-control\",\n      id: \"inlineFormInputGroupUsername2\",\n      placeholder: \"Username\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group mb-2 mr-sm-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"select\", {\n      onChange: e => this.handleTypeChange(e.target.value),\n      className: \"custom-select my-1 mr-sm-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      selected: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 27\n      }\n    }, \"Choose...\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"student\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 27\n      }\n    }, \"Student\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"admin\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 27\n      }\n    }, \"Admin\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"parent\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 27\n      }\n    }, \"Parent\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"teacher\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 27\n      }\n    }, \"Teacher\"))), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-outline-primary mb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 23\n      }\n    }, \"Find\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-3 border-right overflow-auto mt-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 21\n      }\n    }, this.props.userList && this.props.userList.length === 0 ? /*#__PURE__*/React.createElement(\"div\", {\n      class: \"progress\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"progress-bar progress-bar-striped progress-bar-animated w-75\",\n      role: \"progressbar\",\n      \"aria-valuenow\": () => counter++,\n      \"aria-valuemin\": \"0\",\n      \"aria-valuemax\": \"100\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 27\n      }\n    })) : this.props.userList.map(user => {\n      const fullName = user.id + \" \" + user.firstName + \" \" + user.lastName;\n      const length = this.state.search.toLowerCase().length;\n      let userType = \"\";\n\n      if (this.state.type == \"\" || this.state.type == \"Choose...\") {\n        userType = \"all\";\n      }\n\n      if (this.state.search.toLowerCase() == user.firstName.substr(0, length).toLowerCase() || this.state.search.toLowerCase() == user.lastName.substr(0, length).toLowerCase() || this.state.search == user.id) {\n        if (userType == \"all\") {\n          return /*#__PURE__*/React.createElement(UserListing, {\n            key: user.id,\n            user: user,\n            editUser: () => this.props.selectedUser(user),\n            deleteUser: () => this.deleteUser(user),\n            text: fullName.length > 18 ? fullName.substr(0, 10) + \"...\" : fullName,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 186,\n              columnNumber: 35\n            }\n          });\n        } else if (this.state.type.toLowerCase() == user.type.toLowerCase()) {\n          return /*#__PURE__*/React.createElement(UserListing, {\n            key: user.id,\n            user: user,\n            editUser: () => this.props.selectedUser(user),\n            deleteUser: () => this.deleteUser(user),\n            text: fullName.length > 18 ? fullName.substr(0, 10) + \"...\" : fullName,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 35\n            }\n          });\n        }\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col mt-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(AddUserForm, {\n      handleSubmit: user => this.saveUser(user),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 25\n      }\n    })))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal-footer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"text-success mr-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 17\n      }\n    }, this.state.success), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn btn-secondary\",\n      \"data-dismiss\": \"modal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 17\n      }\n    }, \"Close\"))))));\n  }\n\n}\n\nexport default AddUserModal;","map":{"version":3,"sources":["C:/Users/pjk14/Desktop/Gradely/gradely-react-redux/src/components/utility-boxes/adminOnly/addUser/AddUserModal.js"],"names":["React","Component","useEffect","axios","UserListing","AddUserForm","teacherReducer","studentReducer","useSelector","adminReducer","AddUserModal","constructor","state","userList","result","search","type","handleSearchChange","value","setState","handleTypeChange","componentWillMount","render","teacherList","studentList","adminList","parentList","parentReducer","tempList","counter","focusRef","e","target","props","length","map","user","fullName","id","firstName","lastName","toLowerCase","userType","substr","selectedUser","deleteUser","saveUser","success"],"mappings":"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","sourcesContent":["import React, { Component, useEffect } from 'react';\r\nimport axios from 'axios'\r\nimport UserListing from './UserListing';\r\nimport AddUserForm from './AddUserForm';\r\nimport teacherReducer from './../../../../reducer/teacher/teacherReducer';\r\nimport studentReducer from './../../../../reducer/student/studentReducer';\r\nimport { useSelector } from 'react-redux';\r\nimport adminReducer from './../../../../reducer/admin/adminReducer';\r\n\r\nclass AddUserModal extends Component {\r\n  constructor() {\r\n    super()\r\n\r\n    this.state = {\r\n      userList: [],\r\n      result: \"\",\r\n      search: \"\",\r\n      type: \"\"\r\n    }\r\n  }\r\n\r\n  handleSearchChange(value) {\r\n    this.setState({\r\n      search: value\r\n    })\r\n  }\r\n\r\n  handleTypeChange(value) {\r\n    this.setState({\r\n      type: value\r\n    })\r\n  }\r\n\r\n  // deleteUser(u) {\r\n  //   const user = {\r\n  //     id: u.id\r\n  //   }\r\n\r\n  //   if (window.confirm(\"Are you sure you want to delete \" + u.firstName + \" \" + u.lastName)) {\r\n\r\n  //     axios.post(\"http://localhost:8080/delete\", user).then(response => {\r\n  //       console.log(u.id)\r\n  //       console.log(response.data)\r\n  //       const currentUser = response.data\r\n\r\n  //       if (currentUser.id === u.id) {\r\n  //         let tempUserList = this.props.userList\r\n  //         const index = tempUserList.findIndex(tempUser => {\r\n  //           return tempUser.id === u.id\r\n  //         })\r\n\r\n  //         tempUserList.splice(index, 1)\r\n  //         this.props.updateUserList(tempUserList)\r\n\r\n  //       } else {\r\n  //         console.log(\"error\")\r\n  //       }\r\n  //     })\r\n  //   } else {\r\n  //     console.log(\"Canceled\")\r\n  //   }\r\n\r\n\r\n  // }\r\n\r\n  // saveUser(user) {\r\n  //   if (!user.type) {\r\n  //     return \"User type not defined\"\r\n  //   }\r\n  //   let path = \"\"\r\n  //   switch (user.type) {\r\n  //     case \"TEACHER\":\r\n  //       path = \"teacher/new\"\r\n  //       break;\r\n  //     case \"PARENT\":\r\n  //       path = \"parent/new\"\r\n  //       break;\r\n  //     case \"STUDENT\":\r\n  //       path = \"student/new\"\r\n  //       break;\r\n  //     case \"ADMIN\":\r\n  //       path = \"admin/new\"\r\n  //       break;\r\n  //     default:\r\n\r\n  //       break;\r\n  //   }\r\n  //   const fullPath = \"http://localhost:8080/\" + path\r\n  //   axios.post(fullPath, user).then((response) => {\r\n  //     let tempUserList = this.props.userList\r\n  //     tempUserList.push(response.data)\r\n\r\n  //     //Instead of setting state, we need to send the data back\r\n  //     this.props.updateUserList(tempUserList)\r\n  //     // this.setState({\r\n  //     //   userList: tempUserList\r\n  //     // })\r\n  //   })\r\n  // }\r\n\r\n\r\n  componentWillMount() {\r\n\r\n  }\r\n\r\n\r\n  render() {\r\n    const teacherList = useSelector(state => state.teacherReducer);\r\n    const studentList = useSelector(state => state.studentReducer);\r\n    const adminList = useSelector(state => state.adminReducer);\r\n    const parentList = useSelector(state => state.parentReducer)\r\n\r\n    let tempList = []\r\n    let counter = 1\r\n\r\n\r\n\r\n    return (\r\n      <div>\r\n        <div data-backdrop=\"static\" className=\"modal fade\" id=\"addStudentModal\" tabIndex={-1} role=\"dialog\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\r\n          <div className=\"modal-dialog mw-100 w-75\" role=\"document\">\r\n            <div className=\"modal-content\">\r\n              <div className=\"modal-header\" ref={this.focusRef}>\r\n                <h5 className=\"modal-title\" id=\"exampleModalLabel\">Add or Remove Users</h5>\r\n                <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n                  <span aria-hidden=\"true\">Ã—</span>\r\n                </button>\r\n              </div>\r\n              <div className=\"modal-body\">\r\n                <div>\r\n                  <div className=\"row pl-2 border-bottom\">\r\n\r\n                    {/* Top Search Bar */}\r\n\r\n                    <form className=\"form-inline\" >\r\n                      <div className=\"input-group mb-2 mr-sm-2\">\r\n                        <div className=\"input-group-prepend\">\r\n\r\n                          <div className=\"input-group-text\">Search</div>\r\n                        </div>\r\n                        <input onChange={e => this.handleSearchChange(e.target.value)} type=\"text\" className=\"form-control\" id=\"inlineFormInputGroupUsername2\" placeholder=\"Username\" />\r\n                      </div>\r\n                      {/* Select user dropdown menu */}\r\n                      <div className=\"input-group mb-2 mr-sm-2\">\r\n                        <select onChange={e => this.handleTypeChange(e.target.value)} className=\"custom-select my-1 mr-sm-2\">\r\n                          <option selected>Choose...</option>\r\n                          <option value={\"student\"}>Student</option>\r\n                          <option value={\"admin\"}>Admin</option>\r\n                          <option value={\"parent\"}>Parent</option>\r\n                          <option value={\"teacher\"}>Teacher</option>\r\n                        </select>\r\n                      </div>\r\n\r\n                      <button type=\"submit\" className=\"btn btn-outline-primary mb-2\">Find</button>\r\n                    </form>\r\n\r\n\r\n\r\n                  </div>\r\n                  <div className=\"row\">\r\n                    <div className=\"col-md-3 border-right overflow-auto mt-4\">\r\n\r\n                      {/* List of all users that have been searched for */}\r\n                      {this.props.userList && this.props.userList.length === 0 ? (\r\n                        <div class=\"progress\">\r\n                          <div class=\"progress-bar progress-bar-striped progress-bar-animated w-75\"\r\n                            role=\"progressbar\"\r\n                            aria-valuenow={() => counter++} aria-valuemin=\"0\" aria-valuemax=\"100\" ></div>\r\n                        </div>\r\n                      ) : (\r\n                          this.props.userList.map(user => {\r\n                            const fullName = user.id + \" \" + user.firstName + \" \" + user.lastName\r\n                            const length = this.state.search.toLowerCase().length\r\n                            let userType = \"\";\r\n                            if (this.state.type == \"\" || this.state.type == \"Choose...\") {\r\n                              userType = \"all\"\r\n                            }\r\n\r\n                            if (\r\n                              ((this.state.search.toLowerCase() == user.firstName.substr(0, length).toLowerCase()) ||\r\n                                (this.state.search.toLowerCase() == user.lastName.substr(0, length).toLowerCase()) ||\r\n                                (this.state.search == user.id))) {\r\n                              if (userType == \"all\") {\r\n                                return (\r\n\r\n                                  <UserListing\r\n                                    key={user.id}\r\n                                    user={user}\r\n                                    editUser={() => this.props.selectedUser(user)}\r\n                                    deleteUser={() => this.deleteUser(user)}\r\n                                    text={fullName.length > 18 ? fullName.substr(0, 10) + \"...\" : fullName} />\r\n                                )\r\n                              } else if (this.state.type.toLowerCase() == user.type.toLowerCase()) {\r\n                                return (\r\n\r\n                                  <UserListing\r\n                                    key={user.id}\r\n                                    user={user}\r\n                                    editUser={() => this.props.selectedUser(user)}\r\n                                    deleteUser={() => this.deleteUser(user)}\r\n                                    text={fullName.length > 18 ? fullName.substr(0, 10) + \"...\" : fullName} />\r\n                                )\r\n                              }\r\n\r\n                            }\r\n\r\n                          })\r\n                        )}\r\n\r\n                    </div>\r\n\r\n                    <div className=\"col mt-4\">\r\n                      <div className=\"col-md-12\">\r\n\r\n                        {/* Form to create a new student */}\r\n                        <AddUserForm handleSubmit={(user) => this.saveUser(user)} />\r\n\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"modal-footer\">\r\n                <h4 className=\"text-success mr-5\">{this.state.success}</h4>\r\n                <button type=\"button\" className=\"btn btn-secondary\" data-dismiss=\"modal\" >Close</button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AddUserModal;"]},"metadata":{},"sourceType":"module"}