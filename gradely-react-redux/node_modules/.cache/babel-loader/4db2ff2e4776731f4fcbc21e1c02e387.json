{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\pjk14\\\\Desktop\\\\Gradely\\\\gradely-react\\\\src\\\\components\\\\utility-boxes\\\\adminOnly\\\\AddStudentModal.js\";\nimport React, { Component, useEffect } from 'react';\nimport Delete from \"../../../images/icons/trash.svg\";\nimport Edit from \"../../../images/icons/edit.svg\";\nimport saveUser from './../../databaseUtil/databaseUtil';\nimport axios from 'axios';\nimport EditUser from './EditUser';\nimport UserListing from './UserListing';\n\nclass AddStudentModal extends Component {\n  constructor() {\n    super();\n\n    this.cancelCourse = () => {\n      document.getElementById(\"form-to-clear\").reset();\n    };\n\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.editUser = this.editUser.bind(this);\n    this.deleteUser = this.deleteUser.bind(this);\n    this.state = {\n      currentEditUserAddress: [],\n      currentEditUser: \"\",\n      dob: \"\",\n      firstName: \"\",\n      lastName: \"\",\n      email: \"\",\n      password: \"\",\n      address: \"\",\n      unit: \"\",\n      city: \"\",\n      state: \"\",\n      zipcode: \"\",\n      type: \"\".toUpperCase(),\n      success: \"\",\n      states: [],\n      userList: [],\n      sideBarUserList: []\n    };\n  }\n\n  setDob(value) {\n    this.setState({\n      dob: value\n    });\n  }\n\n  setEmail(value) {\n    this.setState({\n      email: value\n    });\n  }\n\n  setPassword(value) {\n    this.setState({\n      password: value\n    });\n  }\n\n  setFirstName(value) {\n    this.setState({\n      firstName: value\n    });\n  }\n\n  setLastName(value) {\n    this.setState({\n      lastName: value\n    });\n  }\n\n  setAddress(value) {\n    this.setState({\n      address: value\n    });\n  }\n\n  setUnit(value) {\n    this.setState({\n      unit: value\n    });\n  }\n\n  setCity(value) {\n    this.setState({\n      city: value\n    });\n  }\n\n  setUserState(value) {\n    this.setState({\n      state: value\n    });\n  }\n\n  setZipcode(value) {\n    this.setState({\n      zipcode: value\n    });\n  }\n\n  setType(value) {\n    this.setState({\n      type: value\n    });\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n    const user = {\n      firstName: this.state.firstName,\n      lastName: this.state.lastName,\n      dob: this.state.dob,\n      email: this.state.email,\n      password: this.state.password,\n      type: this.state.type ? this.state.type : document.getElementById(\"type\").value,\n      contactInformation: [{\n        address: this.state.address,\n        city: this.state.city,\n        state: \"MO\",\n        zipcode: this.state.zipcode\n      }]\n    };\n    saveUser(user);\n    this.clearAllFields();\n    this.componentDidMount();\n    this.setState({\n      success: \"Success!\"\n    });\n  }\n\n  editUser(user) {\n    this.setState({\n      currentEditUser: user,\n      currentEditUserAddress: user.contactInformation\n    });\n  }\n\n  deleteUser(id) {\n    //delete from database and reset state\n    const answer = window.confirm(\"Are you sure you want to delete user \" + id);\n\n    if (answer) {\n      axios.get(\"http://localhost:8080/delete/\" + id).then(response => {\n        console.log(response.data);\n        return response.data;\n      });\n      const tempItems = this.state.userList.map(user => {\n        return user.key == id ? null : user;\n      });\n      this.setState({\n        userList: tempItems\n      });\n    } else {\n      return;\n    }\n  }\n\n  componentDidMount() {\n    //Get all states to place into the dropdown list\n    axios.get(\"http://localhost:8080/getStates\").then(response => {\n      const temp = response.data.map(st => {\n        return /*#__PURE__*/React.createElement(\"option\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 16\n          }\n        }, st);\n      });\n      this.setState({\n        states: temp\n      });\n    });\n    axios.get(\"http://localhost:8080/all\").then(response => {\n      const temp = response.data.map(user => {\n        const fullName = user.firstName + \" \" + user.lastName;\n        return /*#__PURE__*/React.createElement(UserListing, {\n          key: user.id,\n          editUser: () => this.editUser(user),\n          deleteUser: () => this.deleteUser(user.id),\n          text: fullName,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 11\n          }\n        });\n      });\n      this.setState({\n        userList: temp\n      });\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      \"data-backdrop\": \"static\",\n      className: \"modal fade\",\n      id: \"addStudentModal\",\n      tabIndex: -1,\n      role: \"dialog\",\n      \"aria-labelledby\": \"exampleModalLabel\",\n      \"aria-hidden\": \"true\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal-dialog mw-100 w-75\",\n      role: \"document\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal-content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal-header\",\n      ref: this.focusRef,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      className: \"modal-title\",\n      id: \"exampleModalLabel\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 17\n      }\n    }, \"Add or Remove Users\"), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"close\",\n      \"data-dismiss\": \"modal\",\n      \"aria-label\": \"Close\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      \"aria-hidden\": \"true\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 19\n      }\n    }, \"\\xD7\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal-body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row pl-2 border-bottom\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      className: \"form-inline\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group mb-2 mr-sm-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group-prepend\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 27\n      }\n    }, \"Search\")), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      id: \"inlineFormInputGroupUsername2\",\n      placeholder: \"Username\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group mb-2 mr-sm-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"select\", {\n      className: \"custom-select my-1 mr-sm-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      selected: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 27\n      }\n    }, \"Choose...\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: 1,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 27\n      }\n    }, \"Student\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: 2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 27\n      }\n    }, \"Admin\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: 3,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 27\n      }\n    }, \"Parent\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: 4,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 27\n      }\n    }, \"Teacher\"))), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-outline-primary mb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 23\n      }\n    }, \"Find\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-3 border-right overflow-auto mt-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 21\n      }\n    }, this.state.userList), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col mt-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 23\n      }\n    }))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal-footer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"text-success mr-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 17\n      }\n    }, this.state.success), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn btn-secondary\",\n      \"data-dismiss\": \"modal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 17\n      }\n    }, \"Close\"))))));\n  }\n\n}\n\nexport default AddStudentModal;","map":{"version":3,"sources":["C:/Users/pjk14/Desktop/Gradely/gradely-react/src/components/utility-boxes/adminOnly/AddStudentModal.js"],"names":["React","Component","useEffect","saveUser","axios","EditUser","UserListing","AddStudentModal","constructor","cancelCourse","document","getElementById","reset","handleSubmit","bind","editUser","deleteUser","state","currentEditUserAddress","currentEditUser","dob","firstName","lastName","email","password","address","unit","city","zipcode","type","toUpperCase","success","states","userList","sideBarUserList","setDob","value","setState","setEmail","setPassword","setFirstName","setLastName","setAddress","setUnit","setCity","setUserState","setZipcode","setType","event","preventDefault","user","contactInformation","clearAllFields","componentDidMount","id","answer","window","confirm","get","then","response","console","log","data","tempItems","map","key","temp","st","fullName","render","focusRef"],"mappings":"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","sourcesContent":["import React, { Component, useEffect } from 'react';\r\nimport Delete from '../../../images/icons/trash.svg';\r\nimport Edit from '../../../images/icons/edit.svg';\r\nimport saveUser from './../../databaseUtil/databaseUtil';\r\nimport axios from 'axios'\r\nimport EditUser from './EditUser';\r\nimport UserListing from './UserListing';\r\n\r\nclass AddStudentModal extends Component {\r\n  constructor() {\r\n    super()\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n\r\n    this.editUser = this.editUser.bind(this)\r\n    this.deleteUser = this.deleteUser.bind(this)\r\n\r\n    this.state = {\r\n      currentEditUserAddress: [],\r\n      currentEditUser: \"\",\r\n      dob: \"\",\r\n      firstName: \"\",\r\n      lastName: \"\",\r\n      email: \"\",\r\n      password: \"\",\r\n      address: \"\",\r\n      unit: \"\",\r\n      city: \"\",\r\n      state: \"\",\r\n      zipcode: \"\",\r\n      type: \"\".toUpperCase(),\r\n      success: \"\",\r\n      states: [],\r\n      userList: [],\r\n      sideBarUserList: []\r\n    }\r\n  }\r\n\r\n  setDob(value) {\r\n    this.setState({\r\n      dob: value\r\n    })\r\n  }\r\n\r\n  setEmail(value) {\r\n    this.setState({\r\n      email: value\r\n    })\r\n  }\r\n\r\n  setPassword(value) {\r\n    this.setState({\r\n      password: value\r\n    })\r\n  }\r\n\r\n  setFirstName(value) {\r\n    this.setState({\r\n      firstName: value\r\n    })\r\n  }\r\n\r\n  setLastName(value) {\r\n    this.setState({\r\n      lastName: value\r\n    })\r\n  }\r\n\r\n  setAddress(value) {\r\n    this.setState({\r\n      address: value\r\n\r\n    })\r\n  }\r\n\r\n  setUnit(value) {\r\n    this.setState({\r\n\r\n      unit: value\r\n\r\n    })\r\n  }\r\n\r\n  setCity(value) {\r\n    this.setState({\r\n\r\n      city: value\r\n\r\n    })\r\n  }\r\n\r\n  setUserState(value) {\r\n    this.setState({\r\n\r\n      state: value\r\n\r\n    })\r\n  }\r\n\r\n  setZipcode(value) {\r\n    this.setState({\r\n\r\n      zipcode: value\r\n\r\n    })\r\n  }\r\n\r\n  setType(value) {\r\n\r\n    this.setState({\r\n      type: value\r\n    })\r\n  }\r\n\r\n  handleSubmit(event) {\r\n    event.preventDefault();\r\n\r\n    const user = {\r\n      firstName: this.state.firstName,\r\n      lastName: this.state.lastName,\r\n      dob: this.state.dob,\r\n      email: this.state.email,\r\n      password: this.state.password,\r\n      type: this.state.type ? this.state.type : document.getElementById(\"type\").value,\r\n      contactInformation: [{\r\n        address: this.state.address,\r\n        city: this.state.city,\r\n        state: \"MO\",\r\n        zipcode: this.state.zipcode\r\n      }]\r\n    }\r\n\r\n    saveUser(user)\r\n\r\n    this.clearAllFields()\r\n\r\n    this.componentDidMount()\r\n\r\n    this.setState({\r\n      success: \"Success!\"\r\n    }\r\n    )\r\n  }\r\n\r\n  editUser(user) {\r\n\r\n    this.setState({\r\n      currentEditUser: user,\r\n      currentEditUserAddress: user.contactInformation\r\n    })\r\n  }\r\n\r\n  deleteUser(id) {\r\n    //delete from database and reset state\r\n    const answer = window.confirm(\"Are you sure you want to delete user \" + id );\r\n\r\n    if(answer) {\r\n      axios.get(\"http://localhost:8080/delete/\" + id).then(response => {\r\n      console.log(response.data)\r\n      return response.data\r\n    })\r\n    \r\n    const tempItems = this.state.userList.map(user => {\r\n\r\n      return user.key == id ? null : user\r\n    })\r\n\r\n    this.setState({\r\n      userList: tempItems\r\n    })\r\n    } else {  \r\n      return \r\n    }\r\n\r\n  }\r\n\r\n  cancelCourse = () => {\r\n    document.getElementById(\"form-to-clear\").reset();\r\n  }\r\n\r\n\r\n\r\n  componentDidMount() {\r\n    \r\n    //Get all states to place into the dropdown list\r\n    axios.get(\"http://localhost:8080/getStates\").then(response => {\r\n      const temp = response.data.map(st => {\r\n        return <option>{st}</option>\r\n      })\r\n\r\n      this.setState({\r\n        states: temp\r\n      })\r\n    })\r\n\r\n    axios.get(\"http://localhost:8080/all\").then(response => {\r\n      const temp = response.data.map(user => {\r\n        const fullName = user.firstName + \" \" + user.lastName\r\n        return (\r\n\r\n          <UserListing \r\n          key={user.id}\r\n          editUser={()=> this.editUser(user)} \r\n          deleteUser={()=> this.deleteUser(user.id)}\r\n          text={fullName} />\r\n        )\r\n      })\r\n\r\n      this.setState({\r\n        userList: temp\r\n      })\r\n    })\r\n  }\r\n\r\n  render() {\r\n\r\n    return (\r\n      <div>\r\n        <div data-backdrop=\"static\" className=\"modal fade\" id=\"addStudentModal\" tabIndex={-1} role=\"dialog\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\r\n          <div className=\"modal-dialog mw-100 w-75\" role=\"document\">\r\n            <div className=\"modal-content\">\r\n              <div className=\"modal-header\" ref={this.focusRef}>\r\n                <h5 className=\"modal-title\" id=\"exampleModalLabel\">Add or Remove Users</h5>\r\n                <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n                  <span aria-hidden=\"true\">×</span>\r\n                </button>\r\n              </div>\r\n              <div className=\"modal-body\">\r\n                <div>\r\n                  <div className=\"row pl-2 border-bottom\">\r\n                    <form className=\"form-inline\" >\r\n                      <div className=\"input-group mb-2 mr-sm-2\">\r\n                        <div className=\"input-group-prepend\">\r\n                          <div className=\"input-group-text\">Search</div>\r\n                        </div>\r\n                        <input type=\"text\" className=\"form-control\" id=\"inlineFormInputGroupUsername2\" placeholder=\"Username\" />\r\n                      </div>\r\n                      {/* Select user dropdown menu */}\r\n                      <div className=\"input-group mb-2 mr-sm-2\">\r\n                        <select className=\"custom-select my-1 mr-sm-2\">\r\n                          <option selected>Choose...</option>\r\n                          <option value={1}>Student</option>\r\n                          <option value={2}>Admin</option>\r\n                          <option value={3}>Parent</option>\r\n                          <option value={4}>Teacher</option>\r\n                        </select>\r\n                      </div>\r\n\r\n                      <button type=\"submit\" className=\"btn btn-outline-primary mb-2\">Find</button>\r\n                    </form>\r\n\r\n                  </div>\r\n                  <div className=\"row\">\r\n                    <div className=\"col-md-3 border-right overflow-auto mt-4\">\r\n\r\n                      {/* List of all users that have been searched for */}\r\n                      {this.state.userList}\r\n\r\n                    </div>\r\n                    <div className=\"col mt-4\">\r\n                      <div className=\"col-md-12\">\r\n                        \r\n                        {/* Form to create a new student */}\r\n                        \r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"modal-footer\">\r\n                <h4 className=\"text-success mr-5\">{this.state.success}</h4>\r\n                <button type=\"button\" className=\"btn btn-secondary\" data-dismiss=\"modal\" >Close</button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        \r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AddStudentModal;"]},"metadata":{},"sourceType":"module"}