{"ast":null,"code":"function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _get(target, property, receiver) {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    _get = Reflect.get;\n  } else {\n    _get = function _get(target, property, receiver) {\n      var base = _superPropBase(target, property);\n\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get(target, property, receiver || target);\n}\n\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = _getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nimport Menu from '../../../plugins/contextMenu/menu';\nimport { clone, extend } from '../../../helpers/object';\nimport { arrayEach } from '../../../helpers/array';\nimport * as C from '../../../i18n/constants';\nimport { SEPARATOR } from '../../../plugins/contextMenu/predefinedItems';\nimport BaseUI from './_base';\nvar privatePool = new WeakMap();\n/**\n * @class SelectUI\n * @util\n */\n\nvar SelectUI = /*#__PURE__*/function (_BaseUI) {\n  _inherits(SelectUI, _BaseUI);\n\n  _createClass(SelectUI, null, [{\n    key: \"DEFAULTS\",\n    get: function get() {\n      return clone({\n        className: 'htUISelect',\n        wrapIt: false\n      });\n    }\n  }]);\n\n  function SelectUI(hotInstance, options) {\n    var _this;\n\n    _classCallCheck(this, SelectUI);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SelectUI).call(this, hotInstance, extend(SelectUI.DEFAULTS, options)));\n    privatePool.set(_assertThisInitialized(_this), {});\n    /**\n     * Instance of {@link Menu}.\n     *\n     * @type {Menu}\n     */\n\n    _this.menu = null;\n    /**\n     * List of available select options.\n     *\n     * @type {Array}\n     */\n\n    _this.items = [];\n\n    _this.registerHooks();\n\n    return _this;\n  }\n  /**\n   * Register all necessary hooks.\n   */\n\n\n  _createClass(SelectUI, [{\n    key: \"registerHooks\",\n    value: function registerHooks() {\n      var _this2 = this;\n\n      this.addLocalHook('click', function () {\n        return _this2.onClick();\n      });\n    }\n    /**\n     * Set options which can be selected in the list.\n     *\n     * @param {Array} items Array of objects with required keys `key` and `name`.\n     */\n\n  }, {\n    key: \"setItems\",\n    value: function setItems(items) {\n      this.items = this.translateNames(items);\n\n      if (this.menu) {\n        this.menu.setMenuItems(this.items);\n      }\n    }\n    /**\n     * Translate names of menu items.\n     *\n     * @param {Array} items Array of objects with required keys `key` and `name`.\n     * @returns {Array} Items with translated `name` keys.\n     */\n\n  }, {\n    key: \"translateNames\",\n    value: function translateNames(items) {\n      var _this3 = this;\n\n      arrayEach(items, function (item) {\n        item.name = _this3.translateIfPossible(item.name);\n      });\n      return items;\n    }\n    /**\n     * Build DOM structure.\n     */\n\n  }, {\n    key: \"build\",\n    value: function build() {\n      var _this4 = this;\n\n      _get(_getPrototypeOf(SelectUI.prototype), \"build\", this).call(this);\n\n      this.menu = new Menu(this.hot, {\n        className: 'htSelectUI htFiltersConditionsMenu',\n        keepInViewport: false,\n        standalone: true,\n        container: this.options.menuContainer\n      });\n      this.menu.setMenuItems(this.items);\n      var caption = new BaseUI(this.hot, {\n        className: 'htUISelectCaption'\n      });\n      var dropdown = new BaseUI(this.hot, {\n        className: 'htUISelectDropdown'\n      });\n      var priv = privatePool.get(this);\n      priv.caption = caption;\n      priv.captionElement = caption.element;\n      priv.dropdown = dropdown;\n      arrayEach([caption, dropdown], function (element) {\n        return _this4._element.appendChild(element.element);\n      });\n      this.menu.addLocalHook('select', function (command) {\n        return _this4.onMenuSelect(command);\n      });\n      this.menu.addLocalHook('afterClose', function () {\n        return _this4.onMenuClosed();\n      });\n      this.update();\n    }\n    /**\n     * Update DOM structure.\n     */\n\n  }, {\n    key: \"update\",\n    value: function update() {\n      if (!this.isBuilt()) {\n        return;\n      }\n\n      var conditionName;\n\n      if (this.options.value) {\n        conditionName = this.options.value.name;\n      } else {\n        conditionName = this.menu.hot.getTranslatedPhrase(C.FILTERS_CONDITIONS_NONE);\n      }\n\n      privatePool.get(this).captionElement.textContent = conditionName;\n\n      _get(_getPrototypeOf(SelectUI.prototype), \"update\", this).call(this);\n    }\n    /**\n     * Open select dropdown menu with available options.\n     */\n\n  }, {\n    key: \"openOptions\",\n    value: function openOptions() {\n      var rect = this.element.getBoundingClientRect();\n\n      if (this.menu) {\n        this.menu.open();\n        this.menu.setPosition({\n          left: rect.left - 5,\n          top: rect.top,\n          width: rect.width,\n          height: rect.height\n        });\n      }\n    }\n    /**\n     * Close select dropdown menu.\n     */\n\n  }, {\n    key: \"closeOptions\",\n    value: function closeOptions() {\n      if (this.menu) {\n        this.menu.close();\n      }\n    }\n    /**\n     * On menu selected listener.\n     *\n     * @private\n     * @param {Object} command Selected item\n     */\n\n  }, {\n    key: \"onMenuSelect\",\n    value: function onMenuSelect(command) {\n      if (command.name !== SEPARATOR) {\n        this.options.value = command;\n        this.update();\n        this.runLocalHooks('select', this.options.value);\n      }\n    }\n    /**\n     * On menu closed listener.\n     *\n     * @private\n     */\n\n  }, {\n    key: \"onMenuClosed\",\n    value: function onMenuClosed() {\n      this.runLocalHooks('afterClose');\n    }\n    /**\n     * On element click listener.\n     *\n     * @private\n     */\n\n  }, {\n    key: \"onClick\",\n    value: function onClick() {\n      this.openOptions();\n    }\n    /**\n     * Destroy instance.\n     */\n\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      if (this.menu) {\n        this.menu.destroy();\n        this.menu = null;\n      }\n\n      var _privatePool$get = privatePool.get(this),\n          caption = _privatePool$get.caption,\n          dropdown = _privatePool$get.dropdown;\n\n      if (caption) {\n        caption.destroy();\n      }\n\n      if (dropdown) {\n        dropdown.destroy();\n      }\n\n      _get(_getPrototypeOf(SelectUI.prototype), \"destroy\", this).call(this);\n    }\n  }]);\n\n  return SelectUI;\n}(BaseUI);\n\nexport default SelectUI;","map":{"version":3,"sources":["C:/Users/pjk14/Desktop/Gradely/gradely-react-redux/node_modules/handsontable/es/plugins/filters/ui/select.js"],"names":["_typeof","obj","Symbol","iterator","constructor","prototype","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","_assertThisInitialized","ReferenceError","_get","target","property","receiver","Reflect","get","base","_superPropBase","desc","Object","getOwnPropertyDescriptor","value","object","hasOwnProperty","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","_defineProperties","props","i","length","descriptor","enumerable","configurable","writable","defineProperty","key","_createClass","protoProps","staticProps","_inherits","subClass","superClass","create","_setPrototypeOf","p","Menu","clone","extend","arrayEach","C","SEPARATOR","BaseUI","privatePool","WeakMap","SelectUI","_BaseUI","className","wrapIt","hotInstance","options","_this","DEFAULTS","set","menu","items","registerHooks","_this2","addLocalHook","onClick","setItems","translateNames","setMenuItems","_this3","item","name","translateIfPossible","build","_this4","hot","keepInViewport","standalone","container","menuContainer","caption","dropdown","priv","captionElement","element","_element","appendChild","command","onMenuSelect","onMenuClosed","update","isBuilt","conditionName","getTranslatedPhrase","FILTERS_CONDITIONS_NONE","textContent","openOptions","rect","getBoundingClientRect","open","setPosition","left","top","width","height","closeOptions","close","runLocalHooks","destroy","_privatePool$get"],"mappings":"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","sourcesContent":["import \"core-js/modules/es.symbol\";\nimport \"core-js/modules/es.symbol.description\";\nimport \"core-js/modules/es.symbol.iterator\";\nimport \"core-js/modules/es.array.iterator\";\nimport \"core-js/modules/es.function.name\";\nimport \"core-js/modules/es.object.get-own-property-descriptor\";\nimport \"core-js/modules/es.object.get-prototype-of\";\nimport \"core-js/modules/es.object.set-prototype-of\";\nimport \"core-js/modules/es.object.to-string\";\nimport \"core-js/modules/es.reflect.get\";\nimport \"core-js/modules/es.string.iterator\";\nimport \"core-js/modules/es.weak-map\";\nimport \"core-js/modules/web.dom-collections.iterator\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _get(target, property, receiver) { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }\n\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nimport Menu from '../../../plugins/contextMenu/menu';\nimport { clone, extend } from '../../../helpers/object';\nimport { arrayEach } from '../../../helpers/array';\nimport * as C from '../../../i18n/constants';\nimport { SEPARATOR } from '../../../plugins/contextMenu/predefinedItems';\nimport BaseUI from './_base';\nvar privatePool = new WeakMap();\n/**\n * @class SelectUI\n * @util\n */\n\nvar SelectUI =\n/*#__PURE__*/\nfunction (_BaseUI) {\n  _inherits(SelectUI, _BaseUI);\n\n  _createClass(SelectUI, null, [{\n    key: \"DEFAULTS\",\n    get: function get() {\n      return clone({\n        className: 'htUISelect',\n        wrapIt: false\n      });\n    }\n  }]);\n\n  function SelectUI(hotInstance, options) {\n    var _this;\n\n    _classCallCheck(this, SelectUI);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SelectUI).call(this, hotInstance, extend(SelectUI.DEFAULTS, options)));\n    privatePool.set(_assertThisInitialized(_this), {});\n    /**\n     * Instance of {@link Menu}.\n     *\n     * @type {Menu}\n     */\n\n    _this.menu = null;\n    /**\n     * List of available select options.\n     *\n     * @type {Array}\n     */\n\n    _this.items = [];\n\n    _this.registerHooks();\n\n    return _this;\n  }\n  /**\n   * Register all necessary hooks.\n   */\n\n\n  _createClass(SelectUI, [{\n    key: \"registerHooks\",\n    value: function registerHooks() {\n      var _this2 = this;\n\n      this.addLocalHook('click', function () {\n        return _this2.onClick();\n      });\n    }\n    /**\n     * Set options which can be selected in the list.\n     *\n     * @param {Array} items Array of objects with required keys `key` and `name`.\n     */\n\n  }, {\n    key: \"setItems\",\n    value: function setItems(items) {\n      this.items = this.translateNames(items);\n\n      if (this.menu) {\n        this.menu.setMenuItems(this.items);\n      }\n    }\n    /**\n     * Translate names of menu items.\n     *\n     * @param {Array} items Array of objects with required keys `key` and `name`.\n     * @returns {Array} Items with translated `name` keys.\n     */\n\n  }, {\n    key: \"translateNames\",\n    value: function translateNames(items) {\n      var _this3 = this;\n\n      arrayEach(items, function (item) {\n        item.name = _this3.translateIfPossible(item.name);\n      });\n      return items;\n    }\n    /**\n     * Build DOM structure.\n     */\n\n  }, {\n    key: \"build\",\n    value: function build() {\n      var _this4 = this;\n\n      _get(_getPrototypeOf(SelectUI.prototype), \"build\", this).call(this);\n\n      this.menu = new Menu(this.hot, {\n        className: 'htSelectUI htFiltersConditionsMenu',\n        keepInViewport: false,\n        standalone: true,\n        container: this.options.menuContainer\n      });\n      this.menu.setMenuItems(this.items);\n      var caption = new BaseUI(this.hot, {\n        className: 'htUISelectCaption'\n      });\n      var dropdown = new BaseUI(this.hot, {\n        className: 'htUISelectDropdown'\n      });\n      var priv = privatePool.get(this);\n      priv.caption = caption;\n      priv.captionElement = caption.element;\n      priv.dropdown = dropdown;\n      arrayEach([caption, dropdown], function (element) {\n        return _this4._element.appendChild(element.element);\n      });\n      this.menu.addLocalHook('select', function (command) {\n        return _this4.onMenuSelect(command);\n      });\n      this.menu.addLocalHook('afterClose', function () {\n        return _this4.onMenuClosed();\n      });\n      this.update();\n    }\n    /**\n     * Update DOM structure.\n     */\n\n  }, {\n    key: \"update\",\n    value: function update() {\n      if (!this.isBuilt()) {\n        return;\n      }\n\n      var conditionName;\n\n      if (this.options.value) {\n        conditionName = this.options.value.name;\n      } else {\n        conditionName = this.menu.hot.getTranslatedPhrase(C.FILTERS_CONDITIONS_NONE);\n      }\n\n      privatePool.get(this).captionElement.textContent = conditionName;\n\n      _get(_getPrototypeOf(SelectUI.prototype), \"update\", this).call(this);\n    }\n    /**\n     * Open select dropdown menu with available options.\n     */\n\n  }, {\n    key: \"openOptions\",\n    value: function openOptions() {\n      var rect = this.element.getBoundingClientRect();\n\n      if (this.menu) {\n        this.menu.open();\n        this.menu.setPosition({\n          left: rect.left - 5,\n          top: rect.top,\n          width: rect.width,\n          height: rect.height\n        });\n      }\n    }\n    /**\n     * Close select dropdown menu.\n     */\n\n  }, {\n    key: \"closeOptions\",\n    value: function closeOptions() {\n      if (this.menu) {\n        this.menu.close();\n      }\n    }\n    /**\n     * On menu selected listener.\n     *\n     * @private\n     * @param {Object} command Selected item\n     */\n\n  }, {\n    key: \"onMenuSelect\",\n    value: function onMenuSelect(command) {\n      if (command.name !== SEPARATOR) {\n        this.options.value = command;\n        this.update();\n        this.runLocalHooks('select', this.options.value);\n      }\n    }\n    /**\n     * On menu closed listener.\n     *\n     * @private\n     */\n\n  }, {\n    key: \"onMenuClosed\",\n    value: function onMenuClosed() {\n      this.runLocalHooks('afterClose');\n    }\n    /**\n     * On element click listener.\n     *\n     * @private\n     */\n\n  }, {\n    key: \"onClick\",\n    value: function onClick() {\n      this.openOptions();\n    }\n    /**\n     * Destroy instance.\n     */\n\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      if (this.menu) {\n        this.menu.destroy();\n        this.menu = null;\n      }\n\n      var _privatePool$get = privatePool.get(this),\n          caption = _privatePool$get.caption,\n          dropdown = _privatePool$get.dropdown;\n\n      if (caption) {\n        caption.destroy();\n      }\n\n      if (dropdown) {\n        dropdown.destroy();\n      }\n\n      _get(_getPrototypeOf(SelectUI.prototype), \"destroy\", this).call(this);\n    }\n  }]);\n\n  return SelectUI;\n}(BaseUI);\n\nexport default SelectUI;"]},"metadata":{},"sourceType":"module"}