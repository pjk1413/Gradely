{"ast":null,"code":"import \"core-js/modules/es.string.replace\";\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nfunction _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n\nimport { isIE8, isIE9, isSafari } from '../browser';\nimport { hasCaptionProblem, isClassListSupported, isTextContentSupported, isGetComputedStyleSupported } from '../feature';\n/**\n * Get the parent of the specified node in the DOM tree.\n *\n * @param  {HTMLElement} element Element from which traversing is started.\n * @param  {Number} [level=0] Traversing deep level.\n * @returns {HTMLElement|null}\n */\n\nexport function getParent(element) {\n  var level = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  var iteration = -1;\n  var parent = null;\n  var elementToCheck = element;\n\n  while (elementToCheck !== null) {\n    if (iteration === level) {\n      parent = elementToCheck;\n      break;\n    }\n\n    if (elementToCheck.host && elementToCheck.nodeType === Node.DOCUMENT_FRAGMENT_NODE) {\n      elementToCheck = elementToCheck.host;\n    } else {\n      iteration += 1;\n      elementToCheck = elementToCheck.parentNode;\n    }\n  }\n\n  return parent;\n}\n/**\n * Gets `frameElement` of the specified frame. Returns null if it is a top frame or if script has no access to read property.\n *\n * @param {Window} frame Frame from which should be get frameElement in safe way.\n * @returns {HTMLIFrameElement|null}\n */\n\nexport function getFrameElement(frame) {\n  return Object.getPrototypeOf(frame.parent) && frame.frameElement;\n}\n/**\n * Gets parent frame of the specified frame. Returns null if it is a top frame or if script has no access to read property.\n *\n * @param {Window} frame Frame from which should be get frameElement in safe way.\n * @returns {Window|null}\n */\n\nexport function getParentWindow(frame) {\n  return getFrameElement(frame) && frame.parent;\n}\n/**\n * Checks if script has access to read from parent frame of specified frame.\n\n * @param {Window} frame Frame from which should be get frameElement in safe way.\n */\n\nexport function hasAccessToParentWindow(frame) {\n  return !!Object.getPrototypeOf(frame.parent);\n}\n/**\n * Goes up the DOM tree (including given element) until it finds an parent element that matches the nodes or nodes name.\n * This method goes up through web components.\n *\n * @param {Node} element Element from which traversing is started.\n * @param {(string | Node)[]} [nodes] Array of elements or Array of elements name (in uppercase form).\n * @param {Node} [until] The element until the traversing ends.\n * @returns {Node|null}\n */\n\nexport function closest(element) {\n  var nodes = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  var until = arguments.length > 2 ? arguments[2] : undefined;\n  var _Node = Node,\n      ELEMENT_NODE = _Node.ELEMENT_NODE,\n      DOCUMENT_FRAGMENT_NODE = _Node.DOCUMENT_FRAGMENT_NODE;\n  var elementToCheck = element;\n\n  while (elementToCheck !== null && elementToCheck !== void 0 && elementToCheck !== until) {\n    var _elementToCheck = elementToCheck,\n        nodeType = _elementToCheck.nodeType,\n        nodeName = _elementToCheck.nodeName;\n\n    if (nodeType === ELEMENT_NODE && (nodes.includes(nodeName) || nodes.includes(elementToCheck))) {\n      return elementToCheck;\n    }\n\n    var _elementToCheck2 = elementToCheck,\n        host = _elementToCheck2.host;\n\n    if (host && nodeType === DOCUMENT_FRAGMENT_NODE) {\n      elementToCheck = host;\n    } else {\n      elementToCheck = elementToCheck.parentNode;\n    }\n  }\n\n  return null;\n}\n/**\n * Goes \"down\" the DOM tree (including given element) until it finds an element that matches the nodes or nodes name.\n *\n * @param {HTMLElement} element Element from which traversing is started\n * @param {Array} nodes Array of elements or Array of elements name\n * @param {HTMLElement} [until]\n * @returns {HTMLElement|null}\n */\n\nexport function closestDown(element, nodes, until) {\n  var matched = [];\n  var elementToCheck = element;\n\n  while (elementToCheck) {\n    elementToCheck = closest(elementToCheck, nodes, until);\n\n    if (!elementToCheck || until && !until.contains(elementToCheck)) {\n      break;\n    }\n\n    matched.push(elementToCheck);\n\n    if (elementToCheck.host && elementToCheck.nodeType === Node.DOCUMENT_FRAGMENT_NODE) {\n      elementToCheck = elementToCheck.host;\n    } else {\n      elementToCheck = elementToCheck.parentNode;\n    }\n  }\n\n  var length = matched.length;\n  return length ? matched[length - 1] : null;\n}\n/**\n * Goes up the DOM tree and checks if element is child of another element.\n *\n * @param child Child element\n * @param {Object|String} parent Parent element OR selector of the parent element.\n *                               If string provided, function returns `true` for the first occurrence of element with that class.\n * @returns {Boolean}\n */\n\nexport function isChildOf(child, parent) {\n  var node = child.parentNode;\n  var queriedParents = [];\n\n  if (typeof parent === 'string') {\n    if (child.defaultView) {\n      queriedParents = Array.prototype.slice.call(child.querySelectorAll(parent), 0);\n    } else {\n      queriedParents = Array.prototype.slice.call(child.ownerDocument.querySelectorAll(parent), 0);\n    }\n  } else {\n    queriedParents.push(parent);\n  }\n\n  while (node !== null) {\n    if (queriedParents.indexOf(node) > -1) {\n      return true;\n    }\n\n    node = node.parentNode;\n  }\n\n  return false;\n}\n/**\n * Check if an element is part of `hot-table` web component.\n *\n * @param {Element} element\n * @returns {Boolean}\n */\n\nexport function isChildOfWebComponentTable(element) {\n  var hotTableName = 'hot-table';\n  var result = false;\n  var parentNode = polymerWrap(element);\n\n  function isHotTable(testElement) {\n    return testElement.nodeType === Node.ELEMENT_NODE && testElement.nodeName === hotTableName.toUpperCase();\n  }\n\n  while (parentNode !== null) {\n    if (isHotTable(parentNode)) {\n      result = true;\n      break;\n    } else if (parentNode.host && parentNode.nodeType === Node.DOCUMENT_FRAGMENT_NODE) {\n      result = isHotTable(parentNode.host);\n\n      if (result) {\n        break;\n      }\n\n      parentNode = parentNode.host;\n    }\n\n    parentNode = parentNode.parentNode;\n  }\n\n  return result;\n}\n/* global Polymer wrap unwrap */\n\n/**\n * Wrap element into polymer/webcomponent container if exists\n *\n * @param element\n * @returns {*}\n */\n\nexport function polymerWrap(element) {\n  return typeof Polymer !== 'undefined' && typeof wrap === 'function' ? wrap(element) : element;\n}\n/**\n * Unwrap element from polymer/webcomponent container if exists\n *\n * @param element\n * @returns {*}\n */\n\nexport function polymerUnwrap(element) {\n  return typeof Polymer !== 'undefined' && typeof unwrap === 'function' ? unwrap(element) : element;\n}\n/**\n * Counts index of element within its parent\n * WARNING: for performance reasons, assumes there are only element nodes (no text nodes). This is true for Walkotnable\n * Otherwise would need to check for nodeType or use previousElementSibling\n *\n * @see http://jsperf.com/sibling-index/10\n * @param {Element} element\n * @returns {Number}\n */\n\nexport function index(element) {\n  var i = 0;\n  var elementToCheck = element;\n\n  if (elementToCheck.previousSibling) {\n    /* eslint-disable no-cond-assign */\n    while (elementToCheck = elementToCheck.previousSibling) {\n      i += 1;\n    }\n  }\n\n  return i;\n}\n/**\n * Check if the provided overlay contains the provided element\n *\n * @param {String} overlay\n * @param {HTMLElement} element\n * @param {HTMLElement} root\n * @returns {boolean}\n */\n\nexport function overlayContainsElement(overlayType, element, root) {\n  var overlayElement = root.parentElement.querySelector(\".ht_clone_\".concat(overlayType));\n  return overlayElement ? overlayElement.contains(element) : null;\n}\n\nvar _hasClass;\n\nvar _addClass;\n\nvar _removeClass;\n\nfunction filterEmptyClassNames(classNames) {\n  var result = [];\n\n  if (!classNames || !classNames.length) {\n    return result;\n  }\n\n  var len = 0;\n\n  while (classNames[len]) {\n    result.push(classNames[len]);\n    len += 1;\n  }\n\n  return result;\n}\n\nif (isClassListSupported()) {\n  var isSupportMultipleClassesArg = function isSupportMultipleClassesArg(rootDocument) {\n    var element = rootDocument.createElement('div');\n    element.classList.add('test', 'test2');\n    return element.classList.contains('test2');\n  };\n\n  _hasClass = function _hasClass(element, className) {\n    if (element.classList === void 0 || typeof className !== 'string' || className === '') {\n      return false;\n    }\n\n    return element.classList.contains(className);\n  };\n\n  _addClass = function _addClass(element, classes) {\n    var rootDocument = element.ownerDocument;\n    var className = classes;\n\n    if (typeof className === 'string') {\n      className = className.split(' ');\n    }\n\n    className = filterEmptyClassNames(className);\n\n    if (className.length > 0) {\n      if (isSupportMultipleClassesArg(rootDocument)) {\n        var _element$classList;\n\n        (_element$classList = element.classList).add.apply(_element$classList, _toConsumableArray(className));\n      } else {\n        var len = 0;\n\n        while (className && className[len]) {\n          element.classList.add(className[len]);\n          len += 1;\n        }\n      }\n    }\n  };\n\n  _removeClass = function _removeClass(element, classes) {\n    var className = classes;\n\n    if (typeof className === 'string') {\n      className = className.split(' ');\n    }\n\n    className = filterEmptyClassNames(className);\n\n    if (className.length > 0) {\n      if (isSupportMultipleClassesArg) {\n        var _element$classList2;\n\n        (_element$classList2 = element.classList).remove.apply(_element$classList2, _toConsumableArray(className));\n      } else {\n        var len = 0;\n\n        while (className && className[len]) {\n          element.classList.remove(className[len]);\n          len += 1;\n        }\n      }\n    }\n  };\n} else {\n  var createClassNameRegExp = function createClassNameRegExp(className) {\n    return new RegExp(\"(\\\\s|^)\".concat(className, \"(\\\\s|$)\"));\n  };\n\n  _hasClass = function _hasClass(element, className) {\n    // http://snipplr.com/view/3561/addclass-removeclass-hasclass/\n    return element.className !== void 0 && createClassNameRegExp(className).test(element.className);\n  };\n\n  _addClass = function _addClass(element, classes) {\n    var len = 0;\n    var _className = element.className;\n    var className = classes;\n\n    if (typeof className === 'string') {\n      className = className.split(' ');\n    }\n\n    if (_className === '') {\n      _className = className.join(' ');\n    } else {\n      while (className && className[len]) {\n        if (!createClassNameRegExp(className[len]).test(_className)) {\n          _className += \" \".concat(className[len]);\n        }\n\n        len += 1;\n      }\n    }\n\n    element.className = _className;\n  };\n\n  _removeClass = function _removeClass(element, classes) {\n    var len = 0;\n    var _className = element.className;\n    var className = classes;\n\n    if (typeof className === 'string') {\n      className = className.split(' ');\n    }\n\n    while (className && className[len]) {\n      // String.prototype.trim is defined in polyfill.js\n      _className = _className.replace(createClassNameRegExp(className[len]), ' ').trim();\n      len += 1;\n    }\n\n    if (element.className !== _className) {\n      element.className = _className;\n    }\n  };\n}\n/**\n * Checks if element has class name\n *\n * @param {HTMLElement} element\n * @param {String} className Class name to check\n * @returns {Boolean}\n */\n\n\nexport function hasClass(element, className) {\n  return _hasClass(element, className);\n}\n/**\n * Add class name to an element\n *\n * @param {HTMLElement} element\n * @param {String|Array} className Class name as string or array of strings\n */\n\nexport function addClass(element, className) {\n  return _addClass(element, className);\n}\n/**\n * Remove class name from an element\n *\n * @param {HTMLElement} element\n * @param {String|Array} className Class name as string or array of strings\n */\n\nexport function removeClass(element, className) {\n  return _removeClass(element, className);\n}\nexport function removeTextNodes(element, parent) {\n  if (element.nodeType === 3) {\n    parent.removeChild(element); // bye text nodes!\n  } else if (['TABLE', 'THEAD', 'TBODY', 'TFOOT', 'TR'].indexOf(element.nodeName) > -1) {\n    var childs = element.childNodes;\n\n    for (var i = childs.length - 1; i >= 0; i--) {\n      removeTextNodes(childs[i], element);\n    }\n  }\n}\n/**\n * Remove childs function\n * WARNING - this doesn't unload events and data attached by jQuery\n * http://jsperf.com/jquery-html-vs-empty-vs-innerhtml/9\n * http://jsperf.com/jquery-html-vs-empty-vs-innerhtml/11 - no siginificant improvement with Chrome remove() method\n *\n * @param element\n * @returns {void}\n */\n//\n\nexport function empty(element) {\n  var child;\n  /* eslint-disable no-cond-assign */\n\n  while (child = element.lastChild) {\n    element.removeChild(child);\n  }\n}\nexport var HTML_CHARACTERS = /(<(.*)>|&(.*);)/;\n/**\n * Insert content into element trying avoid innerHTML method.\n * @returns {void}\n */\n\nexport function fastInnerHTML(element, content) {\n  if (HTML_CHARACTERS.test(content)) {\n    element.innerHTML = content;\n  } else {\n    fastInnerText(element, content);\n  }\n}\n/**\n * Insert text content into element\n * @returns {Boolean}\n */\n\nexport function fastInnerText(element, content) {\n  var child = element.firstChild;\n\n  if (child && child.nodeType === 3 && child.nextSibling === null) {\n    // fast lane - replace existing text node\n    if (isTextContentSupported) {\n      // http://jsperf.com/replace-text-vs-reuse\n      child.textContent = content;\n    } else {\n      // http://jsperf.com/replace-text-vs-reuse\n      child.data = content;\n    }\n  } else {\n    // slow lane - empty element and insert a text node\n    empty(element);\n    element.appendChild(element.ownerDocument.createTextNode(content));\n  }\n}\n/**\n * Returns true if element is attached to the DOM and visible, false otherwise\n * @param elem\n * @returns {boolean}\n */\n\nexport function isVisible(elem) {\n  var documentElement = elem.ownerDocument.documentElement;\n  var next = elem;\n\n  while (polymerUnwrap(next) !== documentElement) {\n    // until <html> reached\n    if (next === null) {\n      // parent detached from DOM\n      return false;\n    } else if (next.nodeType === Node.DOCUMENT_FRAGMENT_NODE) {\n      if (next.host) {\n        // this is Web Components Shadow DOM\n        // see: http://w3c.github.io/webcomponents/spec/shadow/#encapsulation\n        // according to spec, should be if (next.ownerDocument !== window.document), but that doesn't work yet\n        if (next.host.impl) {\n          // Chrome 33.0.1723.0 canary (2013-11-29) Web Platform features disabled\n          return isVisible(next.host.impl);\n        } else if (next.host) {\n          // Chrome 33.0.1723.0 canary (2013-11-29) Web Platform features enabled\n          return isVisible(next.host);\n        }\n\n        throw new Error('Lost in Web Components world');\n      } else {\n        return false; // this is a node detached from document in IE8\n      }\n    } else if (next.style && next.style.display === 'none') {\n      return false;\n    }\n\n    next = next.parentNode;\n  }\n\n  return true;\n}\n/**\n * Returns elements top and left offset relative to the document. Function is not compatible with jQuery offset.\n *\n * @param {HTMLElement} elem\n * @returns {Object} Returns object with `top` and `left` props\n */\n\nexport function offset(elem) {\n  var rootDocument = elem.ownerDocument;\n  var rootWindow = rootDocument.defaultView;\n  var documentElement = rootDocument.documentElement;\n  var elementToCheck = elem;\n  var offsetLeft;\n  var offsetTop;\n  var lastElem;\n  var box;\n\n  if (hasCaptionProblem() && elementToCheck.firstChild && elementToCheck.firstChild.nodeName === 'CAPTION') {\n    // fixes problem with Firefox ignoring <caption> in TABLE offset (see also export outerHeight)\n    // http://jsperf.com/offset-vs-getboundingclientrect/8\n    box = elementToCheck.getBoundingClientRect();\n    return {\n      top: box.top + (rootWindow.pageYOffset || documentElement.scrollTop) - (documentElement.clientTop || 0),\n      left: box.left + (rootWindow.pageXOffset || documentElement.scrollLeft) - (documentElement.clientLeft || 0)\n    };\n  }\n\n  offsetLeft = elementToCheck.offsetLeft;\n  offsetTop = elementToCheck.offsetTop;\n  lastElem = elementToCheck;\n  /* eslint-disable no-cond-assign */\n\n  while (elementToCheck = elementToCheck.offsetParent) {\n    // from my observation, document.body always has scrollLeft/scrollTop == 0\n    if (elementToCheck === rootDocument.body) {\n      break;\n    }\n\n    offsetLeft += elementToCheck.offsetLeft;\n    offsetTop += elementToCheck.offsetTop;\n    lastElem = elementToCheck;\n  } // slow - http://jsperf.com/offset-vs-getboundingclientrect/6\n\n\n  if (lastElem && lastElem.style.position === 'fixed') {\n    // if(lastElem !== document.body) { //faster but does gives false positive in Firefox\n    offsetLeft += rootWindow.pageXOffset || documentElement.scrollLeft;\n    offsetTop += rootWindow.pageYOffset || documentElement.scrollTop;\n  }\n\n  return {\n    left: offsetLeft,\n    top: offsetTop\n  };\n}\n/**\n * Returns the document's scrollTop property.\n *\n * @param {Window} rootWindow\n * @returns {Number}\n */\n// eslint-disable-next-line no-restricted-globals\n\nexport function getWindowScrollTop() {\n  var rootWindow = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : window;\n  var res = rootWindow.scrollY;\n\n  if (res === void 0) {\n    // IE8-11\n    res = rootWindow.document.documentElement.scrollTop;\n  }\n\n  return res;\n}\n/**\n * Returns the document's scrollLeft property.\n *\n * @param {Window} rootWindow\n * @returns {Number}\n */\n// eslint-disable-next-line no-restricted-globals\n\nexport function getWindowScrollLeft() {\n  var rootWindow = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : window;\n  var res = rootWindow.scrollX;\n\n  if (res === void 0) {\n    // IE8-11\n    res = rootWindow.document.documentElement.scrollLeft;\n  }\n\n  return res;\n}\n/**\n * Returns the provided element's scrollTop property.\n *\n * @param element\n * @param {Window} rootWindow\n * @returns {Number}\n */\n// eslint-disable-next-line no-restricted-globals\n\nexport function getScrollTop(element) {\n  var rootWindow = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : window;\n\n  if (element === rootWindow) {\n    return getWindowScrollTop(rootWindow);\n  }\n\n  return element.scrollTop;\n}\n/**\n * Returns the provided element's scrollLeft property.\n *\n * @param element\n * @param {Window} rootWindow\n * @returns {Number}\n */\n// eslint-disable-next-line no-restricted-globals\n\nexport function getScrollLeft(element) {\n  var rootWindow = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : window;\n\n  if (element === rootWindow) {\n    return getWindowScrollLeft(rootWindow);\n  }\n\n  return element.scrollLeft;\n}\n/**\n * Returns a DOM element responsible for scrolling of the provided element.\n *\n * @param {HTMLElement} element\n * @returns {HTMLElement} Element's scrollable parent\n */\n\nexport function getScrollableElement(element) {\n  var rootDocument = element.ownerDocument;\n  var rootWindow = rootDocument ? rootDocument.defaultView : void 0;\n\n  if (!rootDocument) {\n    rootDocument = element.document ? element.document : element;\n    rootWindow = rootDocument.defaultView;\n  }\n\n  var props = ['auto', 'scroll'];\n  var supportedGetComputedStyle = isGetComputedStyleSupported();\n  var el = element.parentNode;\n\n  while (el && el.style && rootDocument.body !== el) {\n    var _el$style = el.style,\n        overflow = _el$style.overflow,\n        overflowX = _el$style.overflowX,\n        overflowY = _el$style.overflowY;\n\n    if ([overflow, overflowX, overflowY].includes('scroll')) {\n      return el;\n    } else if (supportedGetComputedStyle) {\n      var _rootWindow$getComput = rootWindow.getComputedStyle(el);\n\n      overflow = _rootWindow$getComput.overflow;\n      overflowX = _rootWindow$getComput.overflowX;\n      overflowY = _rootWindow$getComput.overflowY;\n\n      if (props.includes(overflow) || props.includes(overflowX) || props.includes(overflowY)) {\n        return el;\n      }\n    } // The '+ 1' after the scrollHeight/scrollWidth is to prevent problems with zoomed out Chrome.\n\n\n    if (el.clientHeight <= el.scrollHeight + 1 && (props.includes(overflowY) || props.includes(overflow))) {\n      return el;\n    }\n\n    if (el.clientWidth <= el.scrollWidth + 1 && (props.includes(overflowX) || props.includes(overflow))) {\n      return el;\n    }\n\n    el = el.parentNode;\n  }\n\n  return rootWindow;\n}\n/**\n * Returns a DOM element responsible for trimming the provided element.\n *\n * @param {HTMLElement} base Base element\n * @returns {HTMLElement} Base element's trimming parent\n */\n\nexport function getTrimmingContainer(base) {\n  var rootDocument = base.ownerDocument;\n  var rootWindow = rootDocument.defaultView;\n  var el = base.parentNode;\n\n  while (el && el.style && rootDocument.body !== el) {\n    if (el.style.overflow !== 'visible' && el.style.overflow !== '') {\n      return el;\n    }\n\n    var computedStyle = getComputedStyle(el, rootWindow);\n    var allowedProperties = ['scroll', 'hidden', 'auto'];\n    var property = computedStyle.getPropertyValue('overflow');\n    var propertyY = computedStyle.getPropertyValue('overflow-y');\n    var propertyX = computedStyle.getPropertyValue('overflow-x');\n\n    if (allowedProperties.includes(property) || allowedProperties.includes(propertyY) || allowedProperties.includes(propertyX)) {\n      return el;\n    }\n\n    el = el.parentNode;\n  }\n\n  return rootWindow;\n}\n/**\n * Returns a style property for the provided element. (Be it an inline or external style).\n *\n * @param {HTMLElement} element\n * @param {String} prop Wanted property\n * @param {Window} rootWindow\n * @returns {String|undefined} Element's style property\n */\n// eslint-disable-next-line no-restricted-globals\n\nexport function getStyle(element, prop) {\n  var rootWindow = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : window;\n\n  if (!element) {\n    return;\n  } else if (element === rootWindow) {\n    if (prop === 'width') {\n      return \"\".concat(rootWindow.innerWidth, \"px\");\n    } else if (prop === 'height') {\n      return \"\".concat(rootWindow.innerHeight, \"px\");\n    }\n\n    return;\n  }\n\n  var styleProp = element.style[prop];\n\n  if (styleProp !== '' && styleProp !== void 0) {\n    return styleProp;\n  }\n\n  var computedStyle = getComputedStyle(element, rootWindow);\n\n  if (computedStyle[prop] !== '' && computedStyle[prop] !== void 0) {\n    return computedStyle[prop];\n  }\n}\n/**\n * Verifies if element fit to provided CSSRule.\n *\n * @param {Element} element Element to verify with selector text.\n * @param {CSSRule} rule Selector text from CSSRule.\n * @returns {Boolean}\n */\n\nexport function matchesCSSRules(element, rule) {\n  var selectorText = rule.selectorText;\n  var result = false;\n\n  if (rule.type === CSSRule.STYLE_RULE && selectorText) {\n    if (element.msMatchesSelector) {\n      result = element.msMatchesSelector(selectorText);\n    } else if (element.matches) {\n      result = element.matches(selectorText);\n    }\n  }\n\n  return result;\n}\n/**\n * Returns a computed style object for the provided element. (Needed if style is declared in external stylesheet).\n *\n * @param element\n * @param {Window} rootWindow\n * @returns {IEElementStyle|CssStyle} Elements computed style object\n */\n// eslint-disable-next-line no-restricted-globals\n\nexport function getComputedStyle(element) {\n  var rootWindow = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : window;\n  return element.currentStyle || rootWindow.getComputedStyle(element);\n}\n/**\n * Returns the element's outer width.\n *\n * @param element\n * @returns {number} Element's outer width\n */\n\nexport function outerWidth(element) {\n  return element.offsetWidth;\n}\n/**\n * Returns the element's outer height\n *\n * @param elem\n * @returns {number} Element's outer height\n */\n\nexport function outerHeight(elem) {\n  if (hasCaptionProblem() && elem.firstChild && elem.firstChild.nodeName === 'CAPTION') {\n    // fixes problem with Firefox ignoring <caption> in TABLE.offsetHeight\n    // jQuery (1.10.1) still has this unsolved\n    // may be better to just switch to getBoundingClientRect\n    // http://bililite.com/blog/2009/03/27/finding-the-size-of-a-table/\n    // http://lists.w3.org/Archives/Public/www-style/2009Oct/0089.html\n    // http://bugs.jquery.com/ticket/2196\n    // http://lists.w3.org/Archives/Public/www-style/2009Oct/0140.html#start140\n    return elem.offsetHeight + elem.firstChild.offsetHeight;\n  }\n\n  return elem.offsetHeight;\n}\n/**\n * Returns the element's inner height.\n *\n * @param element\n * @returns {number} Element's inner height\n */\n\nexport function innerHeight(element) {\n  return element.clientHeight || element.innerHeight;\n}\n/**\n * Returns the element's inner width.\n *\n * @param element\n * @returns {number} Element's inner width\n */\n\nexport function innerWidth(element) {\n  return element.clientWidth || element.innerWidth;\n}\nexport function addEvent(element, event, callback) {\n  var rootWindow = element.defaultView;\n\n  if (!rootWindow) {\n    rootWindow = element.document ? element : element.ownerDocument.defaultView;\n  }\n\n  if (rootWindow.addEventListener) {\n    element.addEventListener(event, callback, false);\n  } else {\n    element.attachEvent(\"on\".concat(event), callback);\n  }\n}\nexport function removeEvent(element, event, callback) {\n  var rootWindow = element.defaultView;\n\n  if (!rootWindow) {\n    rootWindow = element.document ? element : element.ownerDocument.defaultView;\n  }\n\n  if (rootWindow.removeEventListener) {\n    element.removeEventListener(event, callback, false);\n  } else {\n    element.detachEvent(\"on\".concat(event), callback);\n  }\n}\n/**\n * Returns caret position in text input\n *\n * @author https://stackoverflow.com/questions/263743/how-to-get-caret-position-in-textarea\n * @returns {Number}\n */\n\nexport function getCaretPosition(el) {\n  var rootDocument = el.ownerDocument;\n\n  if (el.selectionStart) {\n    return el.selectionStart;\n  } else if (rootDocument.selection) {\n    // IE8\n    el.focus();\n    var r = rootDocument.selection.createRange();\n\n    if (r === null) {\n      return 0;\n    }\n\n    var re = el.createTextRange();\n    var rc = re.duplicate();\n    re.moveToBookmark(r.getBookmark());\n    rc.setEndPoint('EndToStart', re);\n    return rc.text.length;\n  }\n\n  return 0;\n}\n/**\n * Returns end of the selection in text input\n *\n * @returns {Number}\n */\n\nexport function getSelectionEndPosition(el) {\n  var rootDocument = el.ownerDocument;\n\n  if (el.selectionEnd) {\n    return el.selectionEnd;\n  } else if (rootDocument.selection) {\n    // IE8\n    var r = rootDocument.selection.createRange();\n\n    if (r === null) {\n      return 0;\n    }\n\n    var re = el.createTextRange();\n    return re.text.indexOf(r.text) + r.text.length;\n  }\n\n  return 0;\n}\n/**\n * Returns text under selection.\n *\n * @param {Window} rootWindow\n * @returns {String}\n */\n// eslint-disable-next-line no-restricted-globals\n\nexport function getSelectionText() {\n  var rootWindow = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : window;\n  var rootDocument = rootWindow.document;\n  var text = '';\n\n  if (rootWindow.getSelection) {\n    text = rootWindow.getSelection().toString();\n  } else if (rootDocument.selection && rootDocument.selection.type !== 'Control') {\n    text = rootDocument.selection.createRange().text;\n  }\n\n  return text;\n}\n/**\n * Cross-platform helper to clear text selection.\n *\n * @param {Window} rootWindow\n */\n// eslint-disable-next-line no-restricted-globals\n\nexport function clearTextSelection() {\n  var rootWindow = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : window;\n  var rootDocument = rootWindow.document; // http://stackoverflow.com/questions/3169786/clear-text-selection-with-javascript\n\n  if (rootWindow.getSelection) {\n    if (rootWindow.getSelection().empty) {\n      // Chrome\n      rootWindow.getSelection().empty();\n    } else if (rootWindow.getSelection().removeAllRanges) {\n      // Firefox\n      rootWindow.getSelection().removeAllRanges();\n    }\n  } else if (rootDocument.selection) {\n    // IE?\n    rootDocument.selection.empty();\n  }\n}\n/**\n * Sets caret position in text input.\n *\n * @author http://blog.vishalon.net/index.php/javascript-getting-and-setting-caret-position-in-textarea/\n * @param {Element} element\n * @param {Number} pos\n * @param {Number} endPos\n */\n\nexport function setCaretPosition(element, pos, endPos) {\n  if (endPos === void 0) {\n    endPos = pos;\n  }\n\n  if (element.setSelectionRange) {\n    element.focus();\n\n    try {\n      element.setSelectionRange(pos, endPos);\n    } catch (err) {\n      var elementParent = element.parentNode;\n      var parentDisplayValue = elementParent.style.display;\n      elementParent.style.display = 'block';\n      element.setSelectionRange(pos, endPos);\n      elementParent.style.display = parentDisplayValue;\n    }\n  } else if (element.createTextRange) {\n    // IE8\n    var range = element.createTextRange();\n    range.collapse(true);\n    range.moveEnd('character', endPos);\n    range.moveStart('character', pos);\n    range.select();\n  }\n}\nvar cachedScrollbarWidth;\n/**\n * Helper to calculate scrollbar width.\n * Source: https://stackoverflow.com/questions/986937/how-can-i-get-the-browsers-scrollbar-sizes\n *\n * @private\n * @param {Document} rootDocument\n */\n// eslint-disable-next-line no-restricted-globals\n\nfunction walkontableCalculateScrollbarWidth() {\n  var rootDocument = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : document;\n  var inner = rootDocument.createElement('div');\n  inner.style.height = '200px';\n  inner.style.width = '100%';\n  var outer = rootDocument.createElement('div');\n  outer.style.boxSizing = 'content-box';\n  outer.style.height = '150px';\n  outer.style.left = '0px';\n  outer.style.overflow = 'hidden';\n  outer.style.position = 'absolute';\n  outer.style.top = '0px';\n  outer.style.width = '200px';\n  outer.style.visibility = 'hidden';\n  outer.appendChild(inner);\n  (rootDocument.body || rootDocument.documentElement).appendChild(outer);\n  var w1 = inner.offsetWidth;\n  outer.style.overflow = 'scroll';\n  var w2 = inner.offsetWidth;\n\n  if (w1 === w2) {\n    w2 = outer.clientWidth;\n  }\n\n  (rootDocument.body || rootDocument.documentElement).removeChild(outer);\n  return w1 - w2;\n}\n/**\n * Returns the computed width of the native browser scroll bar.\n *\n * @param {Document} rootDocument\n * @returns {Number} width\n */\n// eslint-disable-next-line no-restricted-globals\n\n\nexport function getScrollbarWidth() {\n  var rootDocument = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : document;\n\n  if (cachedScrollbarWidth === void 0) {\n    cachedScrollbarWidth = walkontableCalculateScrollbarWidth(rootDocument);\n  }\n\n  return cachedScrollbarWidth;\n}\n/**\n * Checks if the provided element has a vertical scrollbar.\n *\n * @param {HTMLElement} element\n * @returns {Boolean}\n */\n\nexport function hasVerticalScrollbar(element) {\n  return element.offsetWidth !== element.clientWidth;\n}\n/**\n * Checks if the provided element has a vertical scrollbar.\n *\n * @param {HTMLElement} element\n * @returns {Boolean}\n */\n\nexport function hasHorizontalScrollbar(element) {\n  return element.offsetHeight !== element.clientHeight;\n}\n/**\n * Sets overlay position depending on it's type and used browser\n */\n\nexport function setOverlayPosition(overlayElem, left, top) {\n  if (isIE8() || isIE9()) {\n    overlayElem.style.top = top;\n    overlayElem.style.left = left;\n  } else if (isSafari()) {\n    overlayElem.style['-webkit-transform'] = \"translate3d(\".concat(left, \",\").concat(top, \",0)\");\n    overlayElem.style['-webkit-transform'] = \"translate3d(\".concat(left, \",\").concat(top, \",0)\");\n  } else {\n    overlayElem.style.transform = \"translate3d(\".concat(left, \",\").concat(top, \",0)\");\n  }\n}\nexport function getCssTransform(element) {\n  var transform;\n\n  if (element.style.transform && (transform = element.style.transform) !== '') {\n    return ['transform', transform];\n  } else if (element.style['-webkit-transform'] && (transform = element.style['-webkit-transform']) !== '') {\n    return ['-webkit-transform', transform];\n  }\n\n  return -1;\n}\nexport function resetCssTransform(element) {\n  if (element.style.transform && element.style.transform !== '') {\n    element.style.transform = '';\n  } else if (element.style['-webkit-transform'] && element.style['-webkit-transform'] !== '') {\n    element.style['-webkit-transform'] = '';\n  }\n}\n/**\n * Determines if the given DOM element is an input field.\n * Notice: By 'input' we mean input, textarea and select nodes\n *\n * @param {HTMLElement} element - DOM element\n * @returns {Boolean}\n */\n\nexport function isInput(element) {\n  var inputs = ['INPUT', 'SELECT', 'TEXTAREA'];\n  return element && (inputs.indexOf(element.nodeName) > -1 || element.contentEditable === 'true');\n}\n/**\n * Determines if the given DOM element is an input field placed OUTSIDE of HOT.\n * Notice: By 'input' we mean input, textarea and select nodes\n *\n * @param {HTMLElement} element - DOM element\n * @returns {Boolean}\n */\n\nexport function isOutsideInput(element) {\n  return isInput(element) && element.className.indexOf('handsontableInput') === -1 && element.className.indexOf('HandsontableCopyPaste') === -1;\n}\n/**\n * Check if the given DOM element can be focused (by using \"select\" method).\n *\n * @param {HTMLElement} element - DOM element\n */\n\nexport function selectElementIfAllowed(element) {\n  var activeElement = element.ownerDocument.activeElement;\n\n  if (!isOutsideInput(activeElement)) {\n    element.select();\n  }\n}","map":{"version":3,"sources":["C:/Users/pjk14/Desktop/Gradely/gradely-react/node_modules/handsontable/es/helpers/dom/element.js"],"names":["_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","TypeError","iter","Symbol","iterator","Object","prototype","toString","call","Array","from","isArray","i","arr2","length","isIE8","isIE9","isSafari","hasCaptionProblem","isClassListSupported","isTextContentSupported","isGetComputedStyleSupported","getParent","element","level","arguments","undefined","iteration","parent","elementToCheck","host","nodeType","Node","DOCUMENT_FRAGMENT_NODE","parentNode","getFrameElement","frame","getPrototypeOf","frameElement","getParentWindow","hasAccessToParentWindow","closest","nodes","until","_Node","ELEMENT_NODE","_elementToCheck","nodeName","includes","_elementToCheck2","closestDown","matched","contains","push","isChildOf","child","node","queriedParents","defaultView","slice","querySelectorAll","ownerDocument","indexOf","isChildOfWebComponentTable","hotTableName","result","polymerWrap","isHotTable","testElement","toUpperCase","Polymer","wrap","polymerUnwrap","unwrap","index","previousSibling","overlayContainsElement","overlayType","root","overlayElement","parentElement","querySelector","concat","_hasClass","_addClass","_removeClass","filterEmptyClassNames","classNames","len","isSupportMultipleClassesArg","rootDocument","createElement","classList","add","className","classes","split","_element$classList","apply","_element$classList2","remove","createClassNameRegExp","RegExp","test","_className","join","replace","trim","hasClass","addClass","removeClass","removeTextNodes","removeChild","childs","childNodes","empty","lastChild","HTML_CHARACTERS","fastInnerHTML","content","innerHTML","fastInnerText","firstChild","nextSibling","textContent","data","appendChild","createTextNode","isVisible","elem","documentElement","next","impl","Error","style","display","offset","rootWindow","offsetLeft","offsetTop","lastElem","box","getBoundingClientRect","top","pageYOffset","scrollTop","clientTop","left","pageXOffset","scrollLeft","clientLeft","offsetParent","body","position","getWindowScrollTop","window","res","scrollY","document","getWindowScrollLeft","scrollX","getScrollTop","getScrollLeft","getScrollableElement","props","supportedGetComputedStyle","el","_el$style","overflow","overflowX","overflowY","_rootWindow$getComput","getComputedStyle","clientHeight","scrollHeight","clientWidth","scrollWidth","getTrimmingContainer","base","computedStyle","allowedProperties","property","getPropertyValue","propertyY","propertyX","getStyle","prop","innerWidth","innerHeight","styleProp","matchesCSSRules","rule","selectorText","type","CSSRule","STYLE_RULE","msMatchesSelector","matches","currentStyle","outerWidth","offsetWidth","outerHeight","offsetHeight","addEvent","event","callback","addEventListener","attachEvent","removeEvent","removeEventListener","detachEvent","getCaretPosition","selectionStart","selection","focus","r","createRange","re","createTextRange","rc","duplicate","moveToBookmark","getBookmark","setEndPoint","text","getSelectionEndPosition","selectionEnd","getSelectionText","getSelection","clearTextSelection","removeAllRanges","setCaretPosition","pos","endPos","setSelectionRange","err","elementParent","parentDisplayValue","range","collapse","moveEnd","moveStart","select","cachedScrollbarWidth","walkontableCalculateScrollbarWidth","inner","height","width","outer","boxSizing","visibility","w1","w2","getScrollbarWidth","hasVerticalScrollbar","hasHorizontalScrollbar","setOverlayPosition","overlayElem","transform","getCssTransform","resetCssTransform","isInput","inputs","contentEditable","isOutsideInput","selectElementIfAllowed","activeElement"],"mappings":"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","sourcesContent":["import \"core-js/modules/es.symbol\";\nimport \"core-js/modules/es.symbol.description\";\nimport \"core-js/modules/es.symbol.iterator\";\nimport \"core-js/modules/es.array.concat\";\nimport \"core-js/modules/es.array.from\";\nimport \"core-js/modules/es.array.includes\";\nimport \"core-js/modules/es.array.index-of\";\nimport \"core-js/modules/es.array.iterator\";\nimport \"core-js/modules/es.array.join\";\nimport \"core-js/modules/es.array.slice\";\nimport \"core-js/modules/es.object.get-prototype-of\";\nimport \"core-js/modules/es.object.to-string\";\nimport \"core-js/modules/es.regexp.constructor\";\nimport \"core-js/modules/es.regexp.exec\";\nimport \"core-js/modules/es.regexp.to-string\";\nimport \"core-js/modules/es.string.includes\";\nimport \"core-js/modules/es.string.iterator\";\nimport \"core-js/modules/es.string.replace\";\nimport \"core-js/modules/es.string.split\";\nimport \"core-js/modules/es.string.trim\";\nimport \"core-js/modules/web.dom-collections.iterator\";\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nimport { isIE8, isIE9, isSafari } from '../browser';\nimport { hasCaptionProblem, isClassListSupported, isTextContentSupported, isGetComputedStyleSupported } from '../feature';\n/**\n * Get the parent of the specified node in the DOM tree.\n *\n * @param  {HTMLElement} element Element from which traversing is started.\n * @param  {Number} [level=0] Traversing deep level.\n * @returns {HTMLElement|null}\n */\n\nexport function getParent(element) {\n  var level = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  var iteration = -1;\n  var parent = null;\n  var elementToCheck = element;\n\n  while (elementToCheck !== null) {\n    if (iteration === level) {\n      parent = elementToCheck;\n      break;\n    }\n\n    if (elementToCheck.host && elementToCheck.nodeType === Node.DOCUMENT_FRAGMENT_NODE) {\n      elementToCheck = elementToCheck.host;\n    } else {\n      iteration += 1;\n      elementToCheck = elementToCheck.parentNode;\n    }\n  }\n\n  return parent;\n}\n/**\n * Gets `frameElement` of the specified frame. Returns null if it is a top frame or if script has no access to read property.\n *\n * @param {Window} frame Frame from which should be get frameElement in safe way.\n * @returns {HTMLIFrameElement|null}\n */\n\nexport function getFrameElement(frame) {\n  return Object.getPrototypeOf(frame.parent) && frame.frameElement;\n}\n/**\n * Gets parent frame of the specified frame. Returns null if it is a top frame or if script has no access to read property.\n *\n * @param {Window} frame Frame from which should be get frameElement in safe way.\n * @returns {Window|null}\n */\n\nexport function getParentWindow(frame) {\n  return getFrameElement(frame) && frame.parent;\n}\n/**\n * Checks if script has access to read from parent frame of specified frame.\n\n * @param {Window} frame Frame from which should be get frameElement in safe way.\n */\n\nexport function hasAccessToParentWindow(frame) {\n  return !!Object.getPrototypeOf(frame.parent);\n}\n/**\n * Goes up the DOM tree (including given element) until it finds an parent element that matches the nodes or nodes name.\n * This method goes up through web components.\n *\n * @param {Node} element Element from which traversing is started.\n * @param {(string | Node)[]} [nodes] Array of elements or Array of elements name (in uppercase form).\n * @param {Node} [until] The element until the traversing ends.\n * @returns {Node|null}\n */\n\nexport function closest(element) {\n  var nodes = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  var until = arguments.length > 2 ? arguments[2] : undefined;\n  var _Node = Node,\n      ELEMENT_NODE = _Node.ELEMENT_NODE,\n      DOCUMENT_FRAGMENT_NODE = _Node.DOCUMENT_FRAGMENT_NODE;\n  var elementToCheck = element;\n\n  while (elementToCheck !== null && elementToCheck !== void 0 && elementToCheck !== until) {\n    var _elementToCheck = elementToCheck,\n        nodeType = _elementToCheck.nodeType,\n        nodeName = _elementToCheck.nodeName;\n\n    if (nodeType === ELEMENT_NODE && (nodes.includes(nodeName) || nodes.includes(elementToCheck))) {\n      return elementToCheck;\n    }\n\n    var _elementToCheck2 = elementToCheck,\n        host = _elementToCheck2.host;\n\n    if (host && nodeType === DOCUMENT_FRAGMENT_NODE) {\n      elementToCheck = host;\n    } else {\n      elementToCheck = elementToCheck.parentNode;\n    }\n  }\n\n  return null;\n}\n/**\n * Goes \"down\" the DOM tree (including given element) until it finds an element that matches the nodes or nodes name.\n *\n * @param {HTMLElement} element Element from which traversing is started\n * @param {Array} nodes Array of elements or Array of elements name\n * @param {HTMLElement} [until]\n * @returns {HTMLElement|null}\n */\n\nexport function closestDown(element, nodes, until) {\n  var matched = [];\n  var elementToCheck = element;\n\n  while (elementToCheck) {\n    elementToCheck = closest(elementToCheck, nodes, until);\n\n    if (!elementToCheck || until && !until.contains(elementToCheck)) {\n      break;\n    }\n\n    matched.push(elementToCheck);\n\n    if (elementToCheck.host && elementToCheck.nodeType === Node.DOCUMENT_FRAGMENT_NODE) {\n      elementToCheck = elementToCheck.host;\n    } else {\n      elementToCheck = elementToCheck.parentNode;\n    }\n  }\n\n  var length = matched.length;\n  return length ? matched[length - 1] : null;\n}\n/**\n * Goes up the DOM tree and checks if element is child of another element.\n *\n * @param child Child element\n * @param {Object|String} parent Parent element OR selector of the parent element.\n *                               If string provided, function returns `true` for the first occurrence of element with that class.\n * @returns {Boolean}\n */\n\nexport function isChildOf(child, parent) {\n  var node = child.parentNode;\n  var queriedParents = [];\n\n  if (typeof parent === 'string') {\n    if (child.defaultView) {\n      queriedParents = Array.prototype.slice.call(child.querySelectorAll(parent), 0);\n    } else {\n      queriedParents = Array.prototype.slice.call(child.ownerDocument.querySelectorAll(parent), 0);\n    }\n  } else {\n    queriedParents.push(parent);\n  }\n\n  while (node !== null) {\n    if (queriedParents.indexOf(node) > -1) {\n      return true;\n    }\n\n    node = node.parentNode;\n  }\n\n  return false;\n}\n/**\n * Check if an element is part of `hot-table` web component.\n *\n * @param {Element} element\n * @returns {Boolean}\n */\n\nexport function isChildOfWebComponentTable(element) {\n  var hotTableName = 'hot-table';\n  var result = false;\n  var parentNode = polymerWrap(element);\n\n  function isHotTable(testElement) {\n    return testElement.nodeType === Node.ELEMENT_NODE && testElement.nodeName === hotTableName.toUpperCase();\n  }\n\n  while (parentNode !== null) {\n    if (isHotTable(parentNode)) {\n      result = true;\n      break;\n    } else if (parentNode.host && parentNode.nodeType === Node.DOCUMENT_FRAGMENT_NODE) {\n      result = isHotTable(parentNode.host);\n\n      if (result) {\n        break;\n      }\n\n      parentNode = parentNode.host;\n    }\n\n    parentNode = parentNode.parentNode;\n  }\n\n  return result;\n}\n/* global Polymer wrap unwrap */\n\n/**\n * Wrap element into polymer/webcomponent container if exists\n *\n * @param element\n * @returns {*}\n */\n\nexport function polymerWrap(element) {\n  return typeof Polymer !== 'undefined' && typeof wrap === 'function' ? wrap(element) : element;\n}\n/**\n * Unwrap element from polymer/webcomponent container if exists\n *\n * @param element\n * @returns {*}\n */\n\nexport function polymerUnwrap(element) {\n  return typeof Polymer !== 'undefined' && typeof unwrap === 'function' ? unwrap(element) : element;\n}\n/**\n * Counts index of element within its parent\n * WARNING: for performance reasons, assumes there are only element nodes (no text nodes). This is true for Walkotnable\n * Otherwise would need to check for nodeType or use previousElementSibling\n *\n * @see http://jsperf.com/sibling-index/10\n * @param {Element} element\n * @returns {Number}\n */\n\nexport function index(element) {\n  var i = 0;\n  var elementToCheck = element;\n\n  if (elementToCheck.previousSibling) {\n    /* eslint-disable no-cond-assign */\n    while (elementToCheck = elementToCheck.previousSibling) {\n      i += 1;\n    }\n  }\n\n  return i;\n}\n/**\n * Check if the provided overlay contains the provided element\n *\n * @param {String} overlay\n * @param {HTMLElement} element\n * @param {HTMLElement} root\n * @returns {boolean}\n */\n\nexport function overlayContainsElement(overlayType, element, root) {\n  var overlayElement = root.parentElement.querySelector(\".ht_clone_\".concat(overlayType));\n  return overlayElement ? overlayElement.contains(element) : null;\n}\n\nvar _hasClass;\n\nvar _addClass;\n\nvar _removeClass;\n\nfunction filterEmptyClassNames(classNames) {\n  var result = [];\n\n  if (!classNames || !classNames.length) {\n    return result;\n  }\n\n  var len = 0;\n\n  while (classNames[len]) {\n    result.push(classNames[len]);\n    len += 1;\n  }\n\n  return result;\n}\n\nif (isClassListSupported()) {\n  var isSupportMultipleClassesArg = function isSupportMultipleClassesArg(rootDocument) {\n    var element = rootDocument.createElement('div');\n    element.classList.add('test', 'test2');\n    return element.classList.contains('test2');\n  };\n\n  _hasClass = function _hasClass(element, className) {\n    if (element.classList === void 0 || typeof className !== 'string' || className === '') {\n      return false;\n    }\n\n    return element.classList.contains(className);\n  };\n\n  _addClass = function _addClass(element, classes) {\n    var rootDocument = element.ownerDocument;\n    var className = classes;\n\n    if (typeof className === 'string') {\n      className = className.split(' ');\n    }\n\n    className = filterEmptyClassNames(className);\n\n    if (className.length > 0) {\n      if (isSupportMultipleClassesArg(rootDocument)) {\n        var _element$classList;\n\n        (_element$classList = element.classList).add.apply(_element$classList, _toConsumableArray(className));\n      } else {\n        var len = 0;\n\n        while (className && className[len]) {\n          element.classList.add(className[len]);\n          len += 1;\n        }\n      }\n    }\n  };\n\n  _removeClass = function _removeClass(element, classes) {\n    var className = classes;\n\n    if (typeof className === 'string') {\n      className = className.split(' ');\n    }\n\n    className = filterEmptyClassNames(className);\n\n    if (className.length > 0) {\n      if (isSupportMultipleClassesArg) {\n        var _element$classList2;\n\n        (_element$classList2 = element.classList).remove.apply(_element$classList2, _toConsumableArray(className));\n      } else {\n        var len = 0;\n\n        while (className && className[len]) {\n          element.classList.remove(className[len]);\n          len += 1;\n        }\n      }\n    }\n  };\n} else {\n  var createClassNameRegExp = function createClassNameRegExp(className) {\n    return new RegExp(\"(\\\\s|^)\".concat(className, \"(\\\\s|$)\"));\n  };\n\n  _hasClass = function _hasClass(element, className) {\n    // http://snipplr.com/view/3561/addclass-removeclass-hasclass/\n    return element.className !== void 0 && createClassNameRegExp(className).test(element.className);\n  };\n\n  _addClass = function _addClass(element, classes) {\n    var len = 0;\n    var _className = element.className;\n    var className = classes;\n\n    if (typeof className === 'string') {\n      className = className.split(' ');\n    }\n\n    if (_className === '') {\n      _className = className.join(' ');\n    } else {\n      while (className && className[len]) {\n        if (!createClassNameRegExp(className[len]).test(_className)) {\n          _className += \" \".concat(className[len]);\n        }\n\n        len += 1;\n      }\n    }\n\n    element.className = _className;\n  };\n\n  _removeClass = function _removeClass(element, classes) {\n    var len = 0;\n    var _className = element.className;\n    var className = classes;\n\n    if (typeof className === 'string') {\n      className = className.split(' ');\n    }\n\n    while (className && className[len]) {\n      // String.prototype.trim is defined in polyfill.js\n      _className = _className.replace(createClassNameRegExp(className[len]), ' ').trim();\n      len += 1;\n    }\n\n    if (element.className !== _className) {\n      element.className = _className;\n    }\n  };\n}\n/**\n * Checks if element has class name\n *\n * @param {HTMLElement} element\n * @param {String} className Class name to check\n * @returns {Boolean}\n */\n\n\nexport function hasClass(element, className) {\n  return _hasClass(element, className);\n}\n/**\n * Add class name to an element\n *\n * @param {HTMLElement} element\n * @param {String|Array} className Class name as string or array of strings\n */\n\nexport function addClass(element, className) {\n  return _addClass(element, className);\n}\n/**\n * Remove class name from an element\n *\n * @param {HTMLElement} element\n * @param {String|Array} className Class name as string or array of strings\n */\n\nexport function removeClass(element, className) {\n  return _removeClass(element, className);\n}\nexport function removeTextNodes(element, parent) {\n  if (element.nodeType === 3) {\n    parent.removeChild(element); // bye text nodes!\n  } else if (['TABLE', 'THEAD', 'TBODY', 'TFOOT', 'TR'].indexOf(element.nodeName) > -1) {\n    var childs = element.childNodes;\n\n    for (var i = childs.length - 1; i >= 0; i--) {\n      removeTextNodes(childs[i], element);\n    }\n  }\n}\n/**\n * Remove childs function\n * WARNING - this doesn't unload events and data attached by jQuery\n * http://jsperf.com/jquery-html-vs-empty-vs-innerhtml/9\n * http://jsperf.com/jquery-html-vs-empty-vs-innerhtml/11 - no siginificant improvement with Chrome remove() method\n *\n * @param element\n * @returns {void}\n */\n//\n\nexport function empty(element) {\n  var child;\n  /* eslint-disable no-cond-assign */\n\n  while (child = element.lastChild) {\n    element.removeChild(child);\n  }\n}\nexport var HTML_CHARACTERS = /(<(.*)>|&(.*);)/;\n/**\n * Insert content into element trying avoid innerHTML method.\n * @returns {void}\n */\n\nexport function fastInnerHTML(element, content) {\n  if (HTML_CHARACTERS.test(content)) {\n    element.innerHTML = content;\n  } else {\n    fastInnerText(element, content);\n  }\n}\n/**\n * Insert text content into element\n * @returns {Boolean}\n */\n\nexport function fastInnerText(element, content) {\n  var child = element.firstChild;\n\n  if (child && child.nodeType === 3 && child.nextSibling === null) {\n    // fast lane - replace existing text node\n    if (isTextContentSupported) {\n      // http://jsperf.com/replace-text-vs-reuse\n      child.textContent = content;\n    } else {\n      // http://jsperf.com/replace-text-vs-reuse\n      child.data = content;\n    }\n  } else {\n    // slow lane - empty element and insert a text node\n    empty(element);\n    element.appendChild(element.ownerDocument.createTextNode(content));\n  }\n}\n/**\n * Returns true if element is attached to the DOM and visible, false otherwise\n * @param elem\n * @returns {boolean}\n */\n\nexport function isVisible(elem) {\n  var documentElement = elem.ownerDocument.documentElement;\n  var next = elem;\n\n  while (polymerUnwrap(next) !== documentElement) {\n    // until <html> reached\n    if (next === null) {\n      // parent detached from DOM\n      return false;\n    } else if (next.nodeType === Node.DOCUMENT_FRAGMENT_NODE) {\n      if (next.host) {\n        // this is Web Components Shadow DOM\n        // see: http://w3c.github.io/webcomponents/spec/shadow/#encapsulation\n        // according to spec, should be if (next.ownerDocument !== window.document), but that doesn't work yet\n        if (next.host.impl) {\n          // Chrome 33.0.1723.0 canary (2013-11-29) Web Platform features disabled\n          return isVisible(next.host.impl);\n        } else if (next.host) {\n          // Chrome 33.0.1723.0 canary (2013-11-29) Web Platform features enabled\n          return isVisible(next.host);\n        }\n\n        throw new Error('Lost in Web Components world');\n      } else {\n        return false; // this is a node detached from document in IE8\n      }\n    } else if (next.style && next.style.display === 'none') {\n      return false;\n    }\n\n    next = next.parentNode;\n  }\n\n  return true;\n}\n/**\n * Returns elements top and left offset relative to the document. Function is not compatible with jQuery offset.\n *\n * @param {HTMLElement} elem\n * @returns {Object} Returns object with `top` and `left` props\n */\n\nexport function offset(elem) {\n  var rootDocument = elem.ownerDocument;\n  var rootWindow = rootDocument.defaultView;\n  var documentElement = rootDocument.documentElement;\n  var elementToCheck = elem;\n  var offsetLeft;\n  var offsetTop;\n  var lastElem;\n  var box;\n\n  if (hasCaptionProblem() && elementToCheck.firstChild && elementToCheck.firstChild.nodeName === 'CAPTION') {\n    // fixes problem with Firefox ignoring <caption> in TABLE offset (see also export outerHeight)\n    // http://jsperf.com/offset-vs-getboundingclientrect/8\n    box = elementToCheck.getBoundingClientRect();\n    return {\n      top: box.top + (rootWindow.pageYOffset || documentElement.scrollTop) - (documentElement.clientTop || 0),\n      left: box.left + (rootWindow.pageXOffset || documentElement.scrollLeft) - (documentElement.clientLeft || 0)\n    };\n  }\n\n  offsetLeft = elementToCheck.offsetLeft;\n  offsetTop = elementToCheck.offsetTop;\n  lastElem = elementToCheck;\n  /* eslint-disable no-cond-assign */\n\n  while (elementToCheck = elementToCheck.offsetParent) {\n    // from my observation, document.body always has scrollLeft/scrollTop == 0\n    if (elementToCheck === rootDocument.body) {\n      break;\n    }\n\n    offsetLeft += elementToCheck.offsetLeft;\n    offsetTop += elementToCheck.offsetTop;\n    lastElem = elementToCheck;\n  } // slow - http://jsperf.com/offset-vs-getboundingclientrect/6\n\n\n  if (lastElem && lastElem.style.position === 'fixed') {\n    // if(lastElem !== document.body) { //faster but does gives false positive in Firefox\n    offsetLeft += rootWindow.pageXOffset || documentElement.scrollLeft;\n    offsetTop += rootWindow.pageYOffset || documentElement.scrollTop;\n  }\n\n  return {\n    left: offsetLeft,\n    top: offsetTop\n  };\n}\n/**\n * Returns the document's scrollTop property.\n *\n * @param {Window} rootWindow\n * @returns {Number}\n */\n// eslint-disable-next-line no-restricted-globals\n\nexport function getWindowScrollTop() {\n  var rootWindow = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : window;\n  var res = rootWindow.scrollY;\n\n  if (res === void 0) {\n    // IE8-11\n    res = rootWindow.document.documentElement.scrollTop;\n  }\n\n  return res;\n}\n/**\n * Returns the document's scrollLeft property.\n *\n * @param {Window} rootWindow\n * @returns {Number}\n */\n// eslint-disable-next-line no-restricted-globals\n\nexport function getWindowScrollLeft() {\n  var rootWindow = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : window;\n  var res = rootWindow.scrollX;\n\n  if (res === void 0) {\n    // IE8-11\n    res = rootWindow.document.documentElement.scrollLeft;\n  }\n\n  return res;\n}\n/**\n * Returns the provided element's scrollTop property.\n *\n * @param element\n * @param {Window} rootWindow\n * @returns {Number}\n */\n// eslint-disable-next-line no-restricted-globals\n\nexport function getScrollTop(element) {\n  var rootWindow = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : window;\n\n  if (element === rootWindow) {\n    return getWindowScrollTop(rootWindow);\n  }\n\n  return element.scrollTop;\n}\n/**\n * Returns the provided element's scrollLeft property.\n *\n * @param element\n * @param {Window} rootWindow\n * @returns {Number}\n */\n// eslint-disable-next-line no-restricted-globals\n\nexport function getScrollLeft(element) {\n  var rootWindow = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : window;\n\n  if (element === rootWindow) {\n    return getWindowScrollLeft(rootWindow);\n  }\n\n  return element.scrollLeft;\n}\n/**\n * Returns a DOM element responsible for scrolling of the provided element.\n *\n * @param {HTMLElement} element\n * @returns {HTMLElement} Element's scrollable parent\n */\n\nexport function getScrollableElement(element) {\n  var rootDocument = element.ownerDocument;\n  var rootWindow = rootDocument ? rootDocument.defaultView : void 0;\n\n  if (!rootDocument) {\n    rootDocument = element.document ? element.document : element;\n    rootWindow = rootDocument.defaultView;\n  }\n\n  var props = ['auto', 'scroll'];\n  var supportedGetComputedStyle = isGetComputedStyleSupported();\n  var el = element.parentNode;\n\n  while (el && el.style && rootDocument.body !== el) {\n    var _el$style = el.style,\n        overflow = _el$style.overflow,\n        overflowX = _el$style.overflowX,\n        overflowY = _el$style.overflowY;\n\n    if ([overflow, overflowX, overflowY].includes('scroll')) {\n      return el;\n    } else if (supportedGetComputedStyle) {\n      var _rootWindow$getComput = rootWindow.getComputedStyle(el);\n\n      overflow = _rootWindow$getComput.overflow;\n      overflowX = _rootWindow$getComput.overflowX;\n      overflowY = _rootWindow$getComput.overflowY;\n\n      if (props.includes(overflow) || props.includes(overflowX) || props.includes(overflowY)) {\n        return el;\n      }\n    } // The '+ 1' after the scrollHeight/scrollWidth is to prevent problems with zoomed out Chrome.\n\n\n    if (el.clientHeight <= el.scrollHeight + 1 && (props.includes(overflowY) || props.includes(overflow))) {\n      return el;\n    }\n\n    if (el.clientWidth <= el.scrollWidth + 1 && (props.includes(overflowX) || props.includes(overflow))) {\n      return el;\n    }\n\n    el = el.parentNode;\n  }\n\n  return rootWindow;\n}\n/**\n * Returns a DOM element responsible for trimming the provided element.\n *\n * @param {HTMLElement} base Base element\n * @returns {HTMLElement} Base element's trimming parent\n */\n\nexport function getTrimmingContainer(base) {\n  var rootDocument = base.ownerDocument;\n  var rootWindow = rootDocument.defaultView;\n  var el = base.parentNode;\n\n  while (el && el.style && rootDocument.body !== el) {\n    if (el.style.overflow !== 'visible' && el.style.overflow !== '') {\n      return el;\n    }\n\n    var computedStyle = getComputedStyle(el, rootWindow);\n    var allowedProperties = ['scroll', 'hidden', 'auto'];\n    var property = computedStyle.getPropertyValue('overflow');\n    var propertyY = computedStyle.getPropertyValue('overflow-y');\n    var propertyX = computedStyle.getPropertyValue('overflow-x');\n\n    if (allowedProperties.includes(property) || allowedProperties.includes(propertyY) || allowedProperties.includes(propertyX)) {\n      return el;\n    }\n\n    el = el.parentNode;\n  }\n\n  return rootWindow;\n}\n/**\n * Returns a style property for the provided element. (Be it an inline or external style).\n *\n * @param {HTMLElement} element\n * @param {String} prop Wanted property\n * @param {Window} rootWindow\n * @returns {String|undefined} Element's style property\n */\n// eslint-disable-next-line no-restricted-globals\n\nexport function getStyle(element, prop) {\n  var rootWindow = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : window;\n\n  if (!element) {\n    return;\n  } else if (element === rootWindow) {\n    if (prop === 'width') {\n      return \"\".concat(rootWindow.innerWidth, \"px\");\n    } else if (prop === 'height') {\n      return \"\".concat(rootWindow.innerHeight, \"px\");\n    }\n\n    return;\n  }\n\n  var styleProp = element.style[prop];\n\n  if (styleProp !== '' && styleProp !== void 0) {\n    return styleProp;\n  }\n\n  var computedStyle = getComputedStyle(element, rootWindow);\n\n  if (computedStyle[prop] !== '' && computedStyle[prop] !== void 0) {\n    return computedStyle[prop];\n  }\n}\n/**\n * Verifies if element fit to provided CSSRule.\n *\n * @param {Element} element Element to verify with selector text.\n * @param {CSSRule} rule Selector text from CSSRule.\n * @returns {Boolean}\n */\n\nexport function matchesCSSRules(element, rule) {\n  var selectorText = rule.selectorText;\n  var result = false;\n\n  if (rule.type === CSSRule.STYLE_RULE && selectorText) {\n    if (element.msMatchesSelector) {\n      result = element.msMatchesSelector(selectorText);\n    } else if (element.matches) {\n      result = element.matches(selectorText);\n    }\n  }\n\n  return result;\n}\n/**\n * Returns a computed style object for the provided element. (Needed if style is declared in external stylesheet).\n *\n * @param element\n * @param {Window} rootWindow\n * @returns {IEElementStyle|CssStyle} Elements computed style object\n */\n// eslint-disable-next-line no-restricted-globals\n\nexport function getComputedStyle(element) {\n  var rootWindow = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : window;\n  return element.currentStyle || rootWindow.getComputedStyle(element);\n}\n/**\n * Returns the element's outer width.\n *\n * @param element\n * @returns {number} Element's outer width\n */\n\nexport function outerWidth(element) {\n  return element.offsetWidth;\n}\n/**\n * Returns the element's outer height\n *\n * @param elem\n * @returns {number} Element's outer height\n */\n\nexport function outerHeight(elem) {\n  if (hasCaptionProblem() && elem.firstChild && elem.firstChild.nodeName === 'CAPTION') {\n    // fixes problem with Firefox ignoring <caption> in TABLE.offsetHeight\n    // jQuery (1.10.1) still has this unsolved\n    // may be better to just switch to getBoundingClientRect\n    // http://bililite.com/blog/2009/03/27/finding-the-size-of-a-table/\n    // http://lists.w3.org/Archives/Public/www-style/2009Oct/0089.html\n    // http://bugs.jquery.com/ticket/2196\n    // http://lists.w3.org/Archives/Public/www-style/2009Oct/0140.html#start140\n    return elem.offsetHeight + elem.firstChild.offsetHeight;\n  }\n\n  return elem.offsetHeight;\n}\n/**\n * Returns the element's inner height.\n *\n * @param element\n * @returns {number} Element's inner height\n */\n\nexport function innerHeight(element) {\n  return element.clientHeight || element.innerHeight;\n}\n/**\n * Returns the element's inner width.\n *\n * @param element\n * @returns {number} Element's inner width\n */\n\nexport function innerWidth(element) {\n  return element.clientWidth || element.innerWidth;\n}\nexport function addEvent(element, event, callback) {\n  var rootWindow = element.defaultView;\n\n  if (!rootWindow) {\n    rootWindow = element.document ? element : element.ownerDocument.defaultView;\n  }\n\n  if (rootWindow.addEventListener) {\n    element.addEventListener(event, callback, false);\n  } else {\n    element.attachEvent(\"on\".concat(event), callback);\n  }\n}\nexport function removeEvent(element, event, callback) {\n  var rootWindow = element.defaultView;\n\n  if (!rootWindow) {\n    rootWindow = element.document ? element : element.ownerDocument.defaultView;\n  }\n\n  if (rootWindow.removeEventListener) {\n    element.removeEventListener(event, callback, false);\n  } else {\n    element.detachEvent(\"on\".concat(event), callback);\n  }\n}\n/**\n * Returns caret position in text input\n *\n * @author https://stackoverflow.com/questions/263743/how-to-get-caret-position-in-textarea\n * @returns {Number}\n */\n\nexport function getCaretPosition(el) {\n  var rootDocument = el.ownerDocument;\n\n  if (el.selectionStart) {\n    return el.selectionStart;\n  } else if (rootDocument.selection) {\n    // IE8\n    el.focus();\n    var r = rootDocument.selection.createRange();\n\n    if (r === null) {\n      return 0;\n    }\n\n    var re = el.createTextRange();\n    var rc = re.duplicate();\n    re.moveToBookmark(r.getBookmark());\n    rc.setEndPoint('EndToStart', re);\n    return rc.text.length;\n  }\n\n  return 0;\n}\n/**\n * Returns end of the selection in text input\n *\n * @returns {Number}\n */\n\nexport function getSelectionEndPosition(el) {\n  var rootDocument = el.ownerDocument;\n\n  if (el.selectionEnd) {\n    return el.selectionEnd;\n  } else if (rootDocument.selection) {\n    // IE8\n    var r = rootDocument.selection.createRange();\n\n    if (r === null) {\n      return 0;\n    }\n\n    var re = el.createTextRange();\n    return re.text.indexOf(r.text) + r.text.length;\n  }\n\n  return 0;\n}\n/**\n * Returns text under selection.\n *\n * @param {Window} rootWindow\n * @returns {String}\n */\n// eslint-disable-next-line no-restricted-globals\n\nexport function getSelectionText() {\n  var rootWindow = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : window;\n  var rootDocument = rootWindow.document;\n  var text = '';\n\n  if (rootWindow.getSelection) {\n    text = rootWindow.getSelection().toString();\n  } else if (rootDocument.selection && rootDocument.selection.type !== 'Control') {\n    text = rootDocument.selection.createRange().text;\n  }\n\n  return text;\n}\n/**\n * Cross-platform helper to clear text selection.\n *\n * @param {Window} rootWindow\n */\n// eslint-disable-next-line no-restricted-globals\n\nexport function clearTextSelection() {\n  var rootWindow = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : window;\n  var rootDocument = rootWindow.document; // http://stackoverflow.com/questions/3169786/clear-text-selection-with-javascript\n\n  if (rootWindow.getSelection) {\n    if (rootWindow.getSelection().empty) {\n      // Chrome\n      rootWindow.getSelection().empty();\n    } else if (rootWindow.getSelection().removeAllRanges) {\n      // Firefox\n      rootWindow.getSelection().removeAllRanges();\n    }\n  } else if (rootDocument.selection) {\n    // IE?\n    rootDocument.selection.empty();\n  }\n}\n/**\n * Sets caret position in text input.\n *\n * @author http://blog.vishalon.net/index.php/javascript-getting-and-setting-caret-position-in-textarea/\n * @param {Element} element\n * @param {Number} pos\n * @param {Number} endPos\n */\n\nexport function setCaretPosition(element, pos, endPos) {\n  if (endPos === void 0) {\n    endPos = pos;\n  }\n\n  if (element.setSelectionRange) {\n    element.focus();\n\n    try {\n      element.setSelectionRange(pos, endPos);\n    } catch (err) {\n      var elementParent = element.parentNode;\n      var parentDisplayValue = elementParent.style.display;\n      elementParent.style.display = 'block';\n      element.setSelectionRange(pos, endPos);\n      elementParent.style.display = parentDisplayValue;\n    }\n  } else if (element.createTextRange) {\n    // IE8\n    var range = element.createTextRange();\n    range.collapse(true);\n    range.moveEnd('character', endPos);\n    range.moveStart('character', pos);\n    range.select();\n  }\n}\nvar cachedScrollbarWidth;\n/**\n * Helper to calculate scrollbar width.\n * Source: https://stackoverflow.com/questions/986937/how-can-i-get-the-browsers-scrollbar-sizes\n *\n * @private\n * @param {Document} rootDocument\n */\n// eslint-disable-next-line no-restricted-globals\n\nfunction walkontableCalculateScrollbarWidth() {\n  var rootDocument = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : document;\n  var inner = rootDocument.createElement('div');\n  inner.style.height = '200px';\n  inner.style.width = '100%';\n  var outer = rootDocument.createElement('div');\n  outer.style.boxSizing = 'content-box';\n  outer.style.height = '150px';\n  outer.style.left = '0px';\n  outer.style.overflow = 'hidden';\n  outer.style.position = 'absolute';\n  outer.style.top = '0px';\n  outer.style.width = '200px';\n  outer.style.visibility = 'hidden';\n  outer.appendChild(inner);\n  (rootDocument.body || rootDocument.documentElement).appendChild(outer);\n  var w1 = inner.offsetWidth;\n  outer.style.overflow = 'scroll';\n  var w2 = inner.offsetWidth;\n\n  if (w1 === w2) {\n    w2 = outer.clientWidth;\n  }\n\n  (rootDocument.body || rootDocument.documentElement).removeChild(outer);\n  return w1 - w2;\n}\n/**\n * Returns the computed width of the native browser scroll bar.\n *\n * @param {Document} rootDocument\n * @returns {Number} width\n */\n// eslint-disable-next-line no-restricted-globals\n\n\nexport function getScrollbarWidth() {\n  var rootDocument = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : document;\n\n  if (cachedScrollbarWidth === void 0) {\n    cachedScrollbarWidth = walkontableCalculateScrollbarWidth(rootDocument);\n  }\n\n  return cachedScrollbarWidth;\n}\n/**\n * Checks if the provided element has a vertical scrollbar.\n *\n * @param {HTMLElement} element\n * @returns {Boolean}\n */\n\nexport function hasVerticalScrollbar(element) {\n  return element.offsetWidth !== element.clientWidth;\n}\n/**\n * Checks if the provided element has a vertical scrollbar.\n *\n * @param {HTMLElement} element\n * @returns {Boolean}\n */\n\nexport function hasHorizontalScrollbar(element) {\n  return element.offsetHeight !== element.clientHeight;\n}\n/**\n * Sets overlay position depending on it's type and used browser\n */\n\nexport function setOverlayPosition(overlayElem, left, top) {\n  if (isIE8() || isIE9()) {\n    overlayElem.style.top = top;\n    overlayElem.style.left = left;\n  } else if (isSafari()) {\n    overlayElem.style['-webkit-transform'] = \"translate3d(\".concat(left, \",\").concat(top, \",0)\");\n    overlayElem.style['-webkit-transform'] = \"translate3d(\".concat(left, \",\").concat(top, \",0)\");\n  } else {\n    overlayElem.style.transform = \"translate3d(\".concat(left, \",\").concat(top, \",0)\");\n  }\n}\nexport function getCssTransform(element) {\n  var transform;\n\n  if (element.style.transform && (transform = element.style.transform) !== '') {\n    return ['transform', transform];\n  } else if (element.style['-webkit-transform'] && (transform = element.style['-webkit-transform']) !== '') {\n    return ['-webkit-transform', transform];\n  }\n\n  return -1;\n}\nexport function resetCssTransform(element) {\n  if (element.style.transform && element.style.transform !== '') {\n    element.style.transform = '';\n  } else if (element.style['-webkit-transform'] && element.style['-webkit-transform'] !== '') {\n    element.style['-webkit-transform'] = '';\n  }\n}\n/**\n * Determines if the given DOM element is an input field.\n * Notice: By 'input' we mean input, textarea and select nodes\n *\n * @param {HTMLElement} element - DOM element\n * @returns {Boolean}\n */\n\nexport function isInput(element) {\n  var inputs = ['INPUT', 'SELECT', 'TEXTAREA'];\n  return element && (inputs.indexOf(element.nodeName) > -1 || element.contentEditable === 'true');\n}\n/**\n * Determines if the given DOM element is an input field placed OUTSIDE of HOT.\n * Notice: By 'input' we mean input, textarea and select nodes\n *\n * @param {HTMLElement} element - DOM element\n * @returns {Boolean}\n */\n\nexport function isOutsideInput(element) {\n  return isInput(element) && element.className.indexOf('handsontableInput') === -1 && element.className.indexOf('HandsontableCopyPaste') === -1;\n}\n/**\n * Check if the given DOM element can be focused (by using \"select\" method).\n *\n * @param {HTMLElement} element - DOM element\n */\n\nexport function selectElementIfAllowed(element) {\n  var activeElement = element.ownerDocument.activeElement;\n\n  if (!isOutsideInput(activeElement)) {\n    element.select();\n  }\n}"]},"metadata":{},"sourceType":"module"}