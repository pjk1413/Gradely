{"ast":null,"code":"function _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nimport { addClass, hasClass, removeClass, getComputedStyle, getTrimmingContainer, innerWidth, innerHeight, offset, outerHeight, outerWidth } from './../../../helpers/dom/element';\nimport { stopImmediatePropagation } from './../../../helpers/dom/event';\nimport { objectEach } from './../../../helpers/object';\nimport { isMobileBrowser } from './../../../helpers/browser';\nimport EventManager from './../../../eventManager';\nimport CellCoords from './cell/coords';\n/**\n *\n */\n\nvar Border = /*#__PURE__*/function () {\n  /**\n   * @param {Walkontable} wotInstance\n   * @param {Object} settings\n   */\n  function Border(wotInstance, settings) {\n    _classCallCheck(this, Border);\n\n    if (!settings) {\n      return;\n    }\n\n    this.eventManager = new EventManager(wotInstance);\n    this.instance = wotInstance;\n    this.wot = wotInstance;\n    this.settings = settings;\n    this.mouseDown = false;\n    this.main = null;\n    this.top = null;\n    this.left = null;\n    this.bottom = null;\n    this.right = null;\n    this.topStyle = null;\n    this.leftStyle = null;\n    this.bottomStyle = null;\n    this.rightStyle = null;\n    this.cornerDefaultStyle = {\n      width: '6px',\n      height: '6px',\n      borderWidth: '1px',\n      borderStyle: 'solid',\n      borderColor: '#FFF'\n    };\n    this.corner = null;\n    this.cornerStyle = null;\n    this.createBorders(settings);\n    this.registerListeners();\n  }\n  /**\n   * Register all necessary events\n   */\n\n\n  _createClass(Border, [{\n    key: \"registerListeners\",\n    value: function registerListeners() {\n      var _this2 = this;\n\n      var documentBody = this.wot.rootDocument.body;\n      this.eventManager.addEventListener(documentBody, 'mousedown', function () {\n        return _this2.onMouseDown();\n      });\n      this.eventManager.addEventListener(documentBody, 'mouseup', function () {\n        return _this2.onMouseUp();\n      });\n\n      var _loop = function _loop(c, len) {\n        _this2.eventManager.addEventListener(_this2.main.childNodes[c], 'mouseenter', function (event) {\n          return _this2.onMouseEnter(event, _this2.main.childNodes[c]);\n        });\n      };\n\n      for (var c = 0, len = this.main.childNodes.length; c < len; c++) {\n        _loop(c, len);\n      }\n    }\n    /**\n     * Mouse down listener\n     *\n     * @private\n     */\n\n  }, {\n    key: \"onMouseDown\",\n    value: function onMouseDown() {\n      this.mouseDown = true;\n    }\n    /**\n     * Mouse up listener\n     *\n     * @private\n     */\n\n  }, {\n    key: \"onMouseUp\",\n    value: function onMouseUp() {\n      this.mouseDown = false;\n    }\n    /**\n     * Mouse enter listener for fragment selection functionality.\n     *\n     * @private\n     * @param {Event} event Dom event\n     * @param {HTMLElement} parentElement Part of border element.\n     */\n\n  }, {\n    key: \"onMouseEnter\",\n    value: function onMouseEnter(event, parentElement) {\n      if (!this.mouseDown || !this.wot.getSetting('hideBorderOnMouseDownOver')) {\n        return;\n      }\n\n      event.preventDefault();\n      stopImmediatePropagation(event);\n\n      var _this = this;\n\n      var documentBody = this.wot.rootDocument.body;\n      var bounds = parentElement.getBoundingClientRect(); // Hide border to prevents selection jumping when fragmentSelection is enabled.\n\n      parentElement.style.display = 'none';\n\n      function isOutside(mouseEvent) {\n        if (mouseEvent.clientY < Math.floor(bounds.top)) {\n          return true;\n        }\n\n        if (mouseEvent.clientY > Math.ceil(bounds.top + bounds.height)) {\n          return true;\n        }\n\n        if (mouseEvent.clientX < Math.floor(bounds.left)) {\n          return true;\n        }\n\n        if (mouseEvent.clientX > Math.ceil(bounds.left + bounds.width)) {\n          return true;\n        }\n      }\n\n      function handler(handlerEvent) {\n        if (isOutside(handlerEvent)) {\n          _this.eventManager.removeEventListener(documentBody, 'mousemove', handler);\n\n          parentElement.style.display = 'block';\n        }\n      }\n\n      this.eventManager.addEventListener(documentBody, 'mousemove', handler);\n    }\n    /**\n     * Create border elements\n     *\n     * @param {Object} settings\n     */\n\n  }, {\n    key: \"createBorders\",\n    value: function createBorders(settings) {\n      var rootDocument = this.wot.rootDocument;\n      this.main = rootDocument.createElement('div');\n      var borderDivs = ['top', 'left', 'bottom', 'right', 'corner'];\n      var style = this.main.style;\n      style.position = 'absolute';\n      style.top = 0;\n      style.left = 0;\n\n      for (var i = 0; i < 5; i++) {\n        var position = borderDivs[i];\n        var div = rootDocument.createElement('div');\n        div.className = \"wtBorder \".concat(this.settings.className || ''); // + borderDivs[i];\n\n        if (this.settings[position] && this.settings[position].hide) {\n          div.className += ' hidden';\n        }\n\n        style = div.style;\n        style.backgroundColor = this.settings[position] && this.settings[position].color ? this.settings[position].color : settings.border.color;\n        style.height = this.settings[position] && this.settings[position].width ? \"\".concat(this.settings[position].width, \"px\") : \"\".concat(settings.border.width, \"px\");\n        style.width = this.settings[position] && this.settings[position].width ? \"\".concat(this.settings[position].width, \"px\") : \"\".concat(settings.border.width, \"px\");\n        this.main.appendChild(div);\n      }\n\n      this.top = this.main.childNodes[0];\n      this.left = this.main.childNodes[1];\n      this.bottom = this.main.childNodes[2];\n      this.right = this.main.childNodes[3];\n      this.topStyle = this.top.style;\n      this.leftStyle = this.left.style;\n      this.bottomStyle = this.bottom.style;\n      this.rightStyle = this.right.style;\n      this.corner = this.main.childNodes[4];\n      this.corner.className += ' corner';\n      this.cornerStyle = this.corner.style;\n      this.cornerStyle.width = this.cornerDefaultStyle.width;\n      this.cornerStyle.height = this.cornerDefaultStyle.height;\n      this.cornerStyle.border = [this.cornerDefaultStyle.borderWidth, this.cornerDefaultStyle.borderStyle, this.cornerDefaultStyle.borderColor].join(' ');\n\n      if (isMobileBrowser()) {\n        this.createMultipleSelectorHandles();\n      }\n\n      this.disappear();\n      var wtTable = this.wot.wtTable;\n      var bordersHolder = wtTable.bordersHolder;\n\n      if (!bordersHolder) {\n        bordersHolder = rootDocument.createElement('div');\n        bordersHolder.className = 'htBorders';\n        wtTable.bordersHolder = bordersHolder;\n        wtTable.spreader.appendChild(bordersHolder);\n      }\n\n      bordersHolder.appendChild(this.main);\n    }\n    /**\n     * Create multiple selector handler for mobile devices\n     */\n\n  }, {\n    key: \"createMultipleSelectorHandles\",\n    value: function createMultipleSelectorHandles() {\n      var _this3 = this;\n\n      var rootDocument = this.wot.rootDocument;\n      this.selectionHandles = {\n        topLeft: rootDocument.createElement('DIV'),\n        topLeftHitArea: rootDocument.createElement('DIV'),\n        bottomRight: rootDocument.createElement('DIV'),\n        bottomRightHitArea: rootDocument.createElement('DIV')\n      };\n      var width = 10;\n      var hitAreaWidth = 40;\n      this.selectionHandles.topLeft.className = 'topLeftSelectionHandle';\n      this.selectionHandles.topLeftHitArea.className = 'topLeftSelectionHandle-HitArea';\n      this.selectionHandles.bottomRight.className = 'bottomRightSelectionHandle';\n      this.selectionHandles.bottomRightHitArea.className = 'bottomRightSelectionHandle-HitArea';\n      this.selectionHandles.styles = {\n        topLeft: this.selectionHandles.topLeft.style,\n        topLeftHitArea: this.selectionHandles.topLeftHitArea.style,\n        bottomRight: this.selectionHandles.bottomRight.style,\n        bottomRightHitArea: this.selectionHandles.bottomRightHitArea.style\n      };\n      var hitAreaStyle = {\n        position: 'absolute',\n        height: \"\".concat(hitAreaWidth, \"px\"),\n        width: \"\".concat(hitAreaWidth, \"px\"),\n        'border-radius': \"\".concat(parseInt(hitAreaWidth / 1.5, 10), \"px\")\n      };\n      objectEach(hitAreaStyle, function (value, key) {\n        _this3.selectionHandles.styles.bottomRightHitArea[key] = value;\n        _this3.selectionHandles.styles.topLeftHitArea[key] = value;\n      });\n      var handleStyle = {\n        position: 'absolute',\n        height: \"\".concat(width, \"px\"),\n        width: \"\".concat(width, \"px\"),\n        'border-radius': \"\".concat(parseInt(width / 1.5, 10), \"px\"),\n        background: '#F5F5FF',\n        border: '1px solid #4285c8'\n      };\n      objectEach(handleStyle, function (value, key) {\n        _this3.selectionHandles.styles.bottomRight[key] = value;\n        _this3.selectionHandles.styles.topLeft[key] = value;\n      });\n      this.main.appendChild(this.selectionHandles.topLeft);\n      this.main.appendChild(this.selectionHandles.bottomRight);\n      this.main.appendChild(this.selectionHandles.topLeftHitArea);\n      this.main.appendChild(this.selectionHandles.bottomRightHitArea);\n    }\n  }, {\n    key: \"isPartRange\",\n    value: function isPartRange(row, col) {\n      var areaSelection = this.wot.selections.createOrGetArea();\n\n      if (areaSelection.cellRange) {\n        if (row !== areaSelection.cellRange.to.row || col !== areaSelection.cellRange.to.col) {\n          return true;\n        }\n      }\n\n      return false;\n    }\n  }, {\n    key: \"updateMultipleSelectionHandlesPosition\",\n    value: function updateMultipleSelectionHandlesPosition(row, col, top, left, width, height) {\n      var handleWidth = parseInt(this.selectionHandles.styles.topLeft.width, 10);\n      var hitAreaWidth = parseInt(this.selectionHandles.styles.topLeftHitArea.width, 10);\n      this.selectionHandles.styles.topLeft.top = \"\".concat(parseInt(top - handleWidth, 10), \"px\");\n      this.selectionHandles.styles.topLeft.left = \"\".concat(parseInt(left - handleWidth, 10), \"px\");\n      this.selectionHandles.styles.topLeftHitArea.top = \"\".concat(parseInt(top - hitAreaWidth / 4 * 3, 10), \"px\");\n      this.selectionHandles.styles.topLeftHitArea.left = \"\".concat(parseInt(left - hitAreaWidth / 4 * 3, 10), \"px\");\n      this.selectionHandles.styles.bottomRight.top = \"\".concat(parseInt(top + height, 10), \"px\");\n      this.selectionHandles.styles.bottomRight.left = \"\".concat(parseInt(left + width, 10), \"px\");\n      this.selectionHandles.styles.bottomRightHitArea.top = \"\".concat(parseInt(top + height - hitAreaWidth / 4, 10), \"px\");\n      this.selectionHandles.styles.bottomRightHitArea.left = \"\".concat(parseInt(left + width - hitAreaWidth / 4, 10), \"px\");\n\n      if (this.settings.border.cornerVisible && this.settings.border.cornerVisible()) {\n        this.selectionHandles.styles.topLeft.display = 'block';\n        this.selectionHandles.styles.topLeftHitArea.display = 'block';\n\n        if (this.isPartRange(row, col)) {\n          this.selectionHandles.styles.bottomRight.display = 'none';\n          this.selectionHandles.styles.bottomRightHitArea.display = 'none';\n        } else {\n          this.selectionHandles.styles.bottomRight.display = 'block';\n          this.selectionHandles.styles.bottomRightHitArea.display = 'block';\n        }\n      } else {\n        this.selectionHandles.styles.topLeft.display = 'none';\n        this.selectionHandles.styles.bottomRight.display = 'none';\n        this.selectionHandles.styles.topLeftHitArea.display = 'none';\n        this.selectionHandles.styles.bottomRightHitArea.display = 'none';\n      }\n\n      if (row === this.wot.wtSettings.getSetting('fixedRowsTop') || col === this.wot.wtSettings.getSetting('fixedColumnsLeft')) {\n        this.selectionHandles.styles.topLeft.zIndex = '9999';\n        this.selectionHandles.styles.topLeftHitArea.zIndex = '9999';\n      } else {\n        this.selectionHandles.styles.topLeft.zIndex = '';\n        this.selectionHandles.styles.topLeftHitArea.zIndex = '';\n      }\n    }\n    /**\n     * Show border around one or many cells\n     *\n     * @param {Array} corners\n     */\n\n  }, {\n    key: \"appear\",\n    value: function appear(corners) {\n      if (this.disabled) {\n        return;\n      }\n\n      var _this$wot = this.wot,\n          wtTable = _this$wot.wtTable,\n          rootDocument = _this$wot.rootDocument,\n          rootWindow = _this$wot.rootWindow;\n      var fromRow;\n      var toRow;\n      var fromColumn;\n      var toColumn;\n      var rowsCount = wtTable.getRenderedRowsCount();\n\n      for (var i = 0; i < rowsCount; i += 1) {\n        var s = wtTable.rowFilter.renderedToSource(i);\n\n        if (s >= corners[0] && s <= corners[2]) {\n          fromRow = s;\n          break;\n        }\n      }\n\n      for (var _i = rowsCount - 1; _i >= 0; _i -= 1) {\n        var _s = wtTable.rowFilter.renderedToSource(_i);\n\n        if (_s >= corners[0] && _s <= corners[2]) {\n          toRow = _s;\n          break;\n        }\n      }\n\n      var columnsCount = wtTable.getRenderedColumnsCount();\n\n      for (var _i2 = 0; _i2 < columnsCount; _i2 += 1) {\n        var _s2 = wtTable.columnFilter.renderedToSource(_i2);\n\n        if (_s2 >= corners[1] && _s2 <= corners[3]) {\n          fromColumn = _s2;\n          break;\n        }\n      }\n\n      for (var _i3 = columnsCount - 1; _i3 >= 0; _i3 -= 1) {\n        var _s3 = wtTable.columnFilter.renderedToSource(_i3);\n\n        if (_s3 >= corners[1] && _s3 <= corners[3]) {\n          toColumn = _s3;\n          break;\n        }\n      }\n\n      if (fromRow === void 0 || fromColumn === void 0) {\n        this.disappear();\n        return;\n      }\n\n      var fromTD = wtTable.getCell(new CellCoords(fromRow, fromColumn));\n      var isMultiple = fromRow !== toRow || fromColumn !== toColumn;\n      var toTD = isMultiple ? wtTable.getCell(new CellCoords(toRow, toColumn)) : fromTD;\n      var fromOffset = offset(fromTD);\n      var toOffset = isMultiple ? offset(toTD) : fromOffset;\n      var containerOffset = offset(wtTable.TABLE);\n      var minTop = fromOffset.top;\n      var minLeft = fromOffset.left;\n      var left = minLeft - containerOffset.left - 1;\n      var width = toOffset.left + outerWidth(toTD) - minLeft;\n\n      if (this.isEntireColumnSelected(fromRow, toRow)) {\n        var modifiedValues = this.getDimensionsFromHeader('columns', fromColumn, toColumn, containerOffset);\n        var fromTH = null;\n\n        if (modifiedValues) {\n          var _modifiedValues = _slicedToArray(modifiedValues, 3);\n\n          fromTH = _modifiedValues[0];\n          left = _modifiedValues[1];\n          width = _modifiedValues[2];\n        }\n\n        if (fromTH) {\n          fromTD = fromTH;\n        }\n      }\n\n      var top = minTop - containerOffset.top - 1;\n      var height = toOffset.top + outerHeight(toTD) - minTop;\n\n      if (this.isEntireRowSelected(fromColumn, toColumn)) {\n        var _modifiedValues2 = this.getDimensionsFromHeader('rows', fromRow, toRow, containerOffset);\n\n        var _fromTH = null;\n\n        if (_modifiedValues2) {\n          var _modifiedValues3 = _slicedToArray(_modifiedValues2, 3);\n\n          _fromTH = _modifiedValues3[0];\n          top = _modifiedValues3[1];\n          height = _modifiedValues3[2];\n        }\n\n        if (_fromTH) {\n          fromTD = _fromTH;\n        }\n      }\n\n      var style = getComputedStyle(fromTD, rootWindow);\n\n      if (parseInt(style.borderTopWidth, 10) > 0) {\n        top += 1;\n        height = height > 0 ? height - 1 : 0;\n      }\n\n      if (parseInt(style.borderLeftWidth, 10) > 0) {\n        left += 1;\n        width = width > 0 ? width - 1 : 0;\n      }\n\n      this.topStyle.top = \"\".concat(top, \"px\");\n      this.topStyle.left = \"\".concat(left, \"px\");\n      this.topStyle.width = \"\".concat(width, \"px\");\n      this.topStyle.display = 'block';\n      this.leftStyle.top = \"\".concat(top, \"px\");\n      this.leftStyle.left = \"\".concat(left, \"px\");\n      this.leftStyle.height = \"\".concat(height, \"px\");\n      this.leftStyle.display = 'block';\n      var delta = Math.floor(this.settings.border.width / 2);\n      this.bottomStyle.top = \"\".concat(top + height - delta, \"px\");\n      this.bottomStyle.left = \"\".concat(left, \"px\");\n      this.bottomStyle.width = \"\".concat(width, \"px\");\n      this.bottomStyle.display = 'block';\n      this.rightStyle.top = \"\".concat(top, \"px\");\n      this.rightStyle.left = \"\".concat(left + width - delta, \"px\");\n      this.rightStyle.height = \"\".concat(height + 1, \"px\");\n      this.rightStyle.display = 'block';\n      var cornerVisibleSetting = this.settings.border.cornerVisible;\n      cornerVisibleSetting = typeof cornerVisibleSetting === 'function' ? cornerVisibleSetting(this.settings.layerLevel) : cornerVisibleSetting;\n      var hookResult = this.wot.getSetting('onModifyGetCellCoords', toRow, toColumn);\n      var checkRow = toRow,\n          checkCol = toColumn;\n\n      if (hookResult && Array.isArray(hookResult)) {\n        var _hookResult = _slicedToArray(hookResult, 4);\n\n        checkRow = _hookResult[2];\n        checkCol = _hookResult[3];\n      }\n\n      if (isMobileBrowser() || !cornerVisibleSetting || this.isPartRange(checkRow, checkCol)) {\n        this.cornerStyle.display = 'none';\n      } else {\n        this.cornerStyle.top = \"\".concat(top + height - 4, \"px\");\n        this.cornerStyle.left = \"\".concat(left + width - 4, \"px\");\n        this.cornerStyle.borderRightWidth = this.cornerDefaultStyle.borderWidth;\n        this.cornerStyle.width = this.cornerDefaultStyle.width; // Hide the fill handle, so the possible further adjustments won't force unneeded scrollbars.\n\n        this.cornerStyle.display = 'none';\n        var trimmingContainer = getTrimmingContainer(wtTable.TABLE);\n        var trimToWindow = trimmingContainer === rootWindow;\n\n        if (trimToWindow) {\n          trimmingContainer = rootDocument.documentElement;\n        }\n\n        if (toColumn === this.wot.getSetting('totalColumns') - 1) {\n          var toTdOffsetLeft = trimToWindow ? toTD.getBoundingClientRect().left : toTD.offsetLeft;\n          var cornerRightEdge = toTdOffsetLeft + outerWidth(toTD) + parseInt(this.cornerDefaultStyle.width, 10) / 2;\n          var cornerOverlappingContainer = cornerRightEdge >= innerWidth(trimmingContainer);\n\n          if (cornerOverlappingContainer) {\n            this.cornerStyle.left = \"\".concat(Math.floor(left + width - 3 - parseInt(this.cornerDefaultStyle.width, 10) / 2), \"px\");\n            this.cornerStyle.borderRightWidth = 0;\n          }\n        }\n\n        if (toRow === this.wot.getSetting('totalRows') - 1) {\n          var toTdOffsetTop = trimToWindow ? toTD.getBoundingClientRect().top : toTD.offsetTop;\n          var cornerBottomEdge = toTdOffsetTop + outerHeight(toTD) + parseInt(this.cornerDefaultStyle.height, 10) / 2;\n\n          var _cornerOverlappingContainer = cornerBottomEdge >= innerHeight(trimmingContainer);\n\n          if (_cornerOverlappingContainer) {\n            this.cornerStyle.top = \"\".concat(Math.floor(top + height - 3 - parseInt(this.cornerDefaultStyle.height, 10) / 2), \"px\");\n            this.cornerStyle.borderBottomWidth = 0;\n          }\n        }\n\n        this.cornerStyle.display = 'block';\n      }\n\n      if (isMobileBrowser()) {\n        this.updateMultipleSelectionHandlesPosition(toRow, toColumn, top, left, width, height);\n      }\n    }\n    /**\n     * Check whether an entire column of cells is selected.\n     *\n     * @private\n     * @param {Number} startRowIndex Start row index.\n     * @param {Number} endRowIndex End row index.\n     */\n\n  }, {\n    key: \"isEntireColumnSelected\",\n    value: function isEntireColumnSelected(startRowIndex, endRowIndex) {\n      return startRowIndex === this.wot.wtTable.getFirstRenderedRow() && endRowIndex === this.wot.wtTable.getLastRenderedRow();\n    }\n    /**\n     * Check whether an entire row of cells is selected.\n     *\n     * @private\n     * @param {Number} startColumnIndex Start column index.\n     * @param {Number} endColumnIndex End column index.\n     */\n\n  }, {\n    key: \"isEntireRowSelected\",\n    value: function isEntireRowSelected(startColumnIndex, endColumnIndex) {\n      return startColumnIndex === this.wot.wtTable.getFirstRenderedColumn() && endColumnIndex === this.wot.wtTable.getLastRenderedColumn();\n    }\n    /**\n     * Get left/top index and width/height depending on the `direction` provided.\n     *\n     * @private\n     * @param {String} direction `rows` or `columns`, defines if an entire column or row is selected.\n     * @param {Number} fromIndex Start index of the selection.\n     * @param {Number} toIndex End index of the selection.\n     * @param {Number} containerOffset offset of the container.\n     * @return {Array|Boolean} Returns an array of [headerElement, left, width] or [headerElement, top, height], depending on `direction` (`false` in case of an error getting the headers).\n     */\n\n  }, {\n    key: \"getDimensionsFromHeader\",\n    value: function getDimensionsFromHeader(direction, fromIndex, toIndex, containerOffset) {\n      var wtTable = this.wot.wtTable;\n      var rootHotElement = wtTable.wtRootElement.parentNode;\n      var getHeaderFn = null;\n      var dimensionFn = null;\n      var entireSelectionClassname = null;\n      var index = null;\n      var dimension = null;\n      var dimensionProperty = null;\n      var startHeader = null;\n      var endHeader = null;\n\n      switch (direction) {\n        case 'rows':\n          getHeaderFn = function getHeaderFn() {\n            return wtTable.getRowHeader.apply(wtTable, arguments);\n          };\n\n          dimensionFn = function dimensionFn() {\n            return outerHeight.apply(void 0, arguments);\n          };\n\n          entireSelectionClassname = 'ht__selection--rows';\n          dimensionProperty = 'top';\n          break;\n\n        case 'columns':\n          getHeaderFn = function getHeaderFn() {\n            return wtTable.getColumnHeader.apply(wtTable, arguments);\n          };\n\n          dimensionFn = function dimensionFn() {\n            return outerWidth.apply(void 0, arguments);\n          };\n\n          entireSelectionClassname = 'ht__selection--columns';\n          dimensionProperty = 'left';\n          break;\n\n        default:\n      }\n\n      if (rootHotElement.className.includes(entireSelectionClassname)) {\n        var columnHeaderLevelCount = this.wot.getSetting('columnHeaders').length;\n        startHeader = getHeaderFn(fromIndex, columnHeaderLevelCount - 1);\n        endHeader = getHeaderFn(toIndex, columnHeaderLevelCount - 1);\n\n        if (!startHeader || !endHeader) {\n          return false;\n        }\n\n        var startHeaderOffset = offset(startHeader);\n        var endOffset = offset(endHeader);\n\n        if (startHeader && endHeader) {\n          index = startHeaderOffset[dimensionProperty] - containerOffset[dimensionProperty] - 1;\n          dimension = endOffset[dimensionProperty] + dimensionFn(endHeader) - startHeaderOffset[dimensionProperty];\n        }\n\n        return [startHeader, index, dimension];\n      }\n\n      return false;\n    }\n    /**\n     * Change border style.\n     *\n     * @private\n     * @param {String} borderElement Coordinate where add/remove border: top, right, bottom, left.\n     */\n\n  }, {\n    key: \"changeBorderStyle\",\n    value: function changeBorderStyle(borderElement, border) {\n      var style = this[borderElement].style;\n      var borderStyle = border[borderElement];\n\n      if (!borderStyle || borderStyle.hide) {\n        addClass(this[borderElement], 'hidden');\n      } else {\n        if (hasClass(this[borderElement], 'hidden')) {\n          removeClass(this[borderElement], 'hidden');\n        }\n\n        style.backgroundColor = borderStyle.color;\n\n        if (borderElement === 'top' || borderElement === 'bottom') {\n          style.height = \"\".concat(borderStyle.width, \"px\");\n        }\n\n        if (borderElement === 'right' || borderElement === 'left') {\n          style.width = \"\".concat(borderStyle.width, \"px\");\n        }\n      }\n    }\n    /**\n     * Change border style to default.\n     *\n     * @private\n     * @param {HTMLElement} position\n     */\n\n  }, {\n    key: \"changeBorderToDefaultStyle\",\n    value: function changeBorderToDefaultStyle(position) {\n      var defaultBorder = {\n        width: 1,\n        color: '#000'\n      };\n      var style = this[position].style;\n      style.backgroundColor = defaultBorder.color;\n      style.width = \"\".concat(defaultBorder.width, \"px\");\n      style.height = \"\".concat(defaultBorder.width, \"px\");\n    }\n    /**\n     * Toggle class 'hidden' to element.\n     *\n     * @private\n     * @param {String} borderElement Coordinate where add/remove border: top, right, bottom, left.\n     * @return {Boolean}\n     */\n\n  }, {\n    key: \"toggleHiddenClass\",\n    value: function toggleHiddenClass(borderElement, remove) {\n      this.changeBorderToDefaultStyle(borderElement);\n\n      if (remove) {\n        addClass(this[borderElement], 'hidden');\n      } else {\n        removeClass(this[borderElement], 'hidden');\n      }\n    }\n    /**\n     * Hide border\n     */\n\n  }, {\n    key: \"disappear\",\n    value: function disappear() {\n      this.topStyle.display = 'none';\n      this.leftStyle.display = 'none';\n      this.bottomStyle.display = 'none';\n      this.rightStyle.display = 'none';\n      this.cornerStyle.display = 'none';\n\n      if (isMobileBrowser()) {\n        this.selectionHandles.styles.topLeft.display = 'none';\n        this.selectionHandles.styles.bottomRight.display = 'none';\n      }\n    }\n    /**\n     * Cleans up all the DOM state related to a Border instance. Call this prior to deleting a Border instance.\n     */\n\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.eventManager.destroyWithOwnEventsOnly();\n      this.main.parentNode.removeChild(this.main);\n    }\n  }]);\n\n  return Border;\n}();\n\nexport default Border;","map":{"version":3,"sources":["C:/Users/pjk14/Desktop/Gradely/gradely-react-redux/node_modules/handsontable/es/3rdparty/walkontable/src/border.js"],"names":["_slicedToArray","arr","i","_arrayWithHoles","_iterableToArrayLimit","_nonIterableRest","TypeError","Symbol","iterator","Object","prototype","toString","call","_arr","_n","_d","_e","undefined","_i","_s","next","done","push","value","length","err","Array","isArray","_classCallCheck","instance","Constructor","_defineProperties","target","props","descriptor","enumerable","configurable","writable","defineProperty","key","_createClass","protoProps","staticProps","addClass","hasClass","removeClass","getComputedStyle","getTrimmingContainer","innerWidth","innerHeight","offset","outerHeight","outerWidth","stopImmediatePropagation","objectEach","isMobileBrowser","EventManager","CellCoords","Border","wotInstance","settings","eventManager","wot","mouseDown","main","top","left","bottom","right","topStyle","leftStyle","bottomStyle","rightStyle","cornerDefaultStyle","width","height","borderWidth","borderStyle","borderColor","corner","cornerStyle","createBorders","registerListeners","_this2","documentBody","rootDocument","body","addEventListener","onMouseDown","onMouseUp","_loop","c","len","childNodes","event","onMouseEnter","parentElement","getSetting","preventDefault","_this","bounds","getBoundingClientRect","style","display","isOutside","mouseEvent","clientY","Math","floor","ceil","clientX","handler","handlerEvent","removeEventListener","createElement","borderDivs","position","div","className","concat","hide","backgroundColor","color","border","appendChild","join","createMultipleSelectorHandles","disappear","wtTable","bordersHolder","spreader","_this3","selectionHandles","topLeft","topLeftHitArea","bottomRight","bottomRightHitArea","hitAreaWidth","styles","hitAreaStyle","parseInt","handleStyle","background","isPartRange","row","col","areaSelection","selections","createOrGetArea","cellRange","to","updateMultipleSelectionHandlesPosition","handleWidth","cornerVisible","wtSettings","zIndex","appear","corners","disabled","_this$wot","rootWindow","fromRow","toRow","fromColumn","toColumn","rowsCount","getRenderedRowsCount","s","rowFilter","renderedToSource","columnsCount","getRenderedColumnsCount","_i2","_s2","columnFilter","_i3","_s3","fromTD","getCell","isMultiple","toTD","fromOffset","toOffset","containerOffset","TABLE","minTop","minLeft","isEntireColumnSelected","modifiedValues","getDimensionsFromHeader","fromTH","_modifiedValues","isEntireRowSelected","_modifiedValues2","_fromTH","_modifiedValues3","borderTopWidth","borderLeftWidth","delta","cornerVisibleSetting","layerLevel","hookResult","checkRow","checkCol","_hookResult","borderRightWidth","trimmingContainer","trimToWindow","documentElement","toTdOffsetLeft","offsetLeft","cornerRightEdge","cornerOverlappingContainer","toTdOffsetTop","offsetTop","cornerBottomEdge","_cornerOverlappingContainer","borderBottomWidth","startRowIndex","endRowIndex","getFirstRenderedRow","getLastRenderedRow","startColumnIndex","endColumnIndex","getFirstRenderedColumn","getLastRenderedColumn","direction","fromIndex","toIndex","rootHotElement","wtRootElement","parentNode","getHeaderFn","dimensionFn","entireSelectionClassname","index","dimension","dimensionProperty","startHeader","endHeader","getRowHeader","apply","arguments","getColumnHeader","includes","columnHeaderLevelCount","startHeaderOffset","endOffset","changeBorderStyle","borderElement","changeBorderToDefaultStyle","defaultBorder","toggleHiddenClass","remove","destroy","destroyWithOwnEventsOnly","removeChild"],"mappings":"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","sourcesContent":["import \"core-js/modules/es.symbol\";\nimport \"core-js/modules/es.symbol.description\";\nimport \"core-js/modules/es.symbol.iterator\";\nimport \"core-js/modules/es.array.includes\";\nimport \"core-js/modules/es.array.iterator\";\nimport \"core-js/modules/es.array.join\";\nimport \"core-js/modules/es.object.to-string\";\nimport \"core-js/modules/es.regexp.to-string\";\nimport \"core-js/modules/es.string.includes\";\nimport \"core-js/modules/es.string.iterator\";\nimport \"core-js/modules/web.dom-collections.iterator\";\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nimport { addClass, hasClass, removeClass, getComputedStyle, getTrimmingContainer, innerWidth, innerHeight, offset, outerHeight, outerWidth } from './../../../helpers/dom/element';\nimport { stopImmediatePropagation } from './../../../helpers/dom/event';\nimport { objectEach } from './../../../helpers/object';\nimport { isMobileBrowser } from './../../../helpers/browser';\nimport EventManager from './../../../eventManager';\nimport CellCoords from './cell/coords';\n/**\n *\n */\n\nvar Border =\n/*#__PURE__*/\nfunction () {\n  /**\n   * @param {Walkontable} wotInstance\n   * @param {Object} settings\n   */\n  function Border(wotInstance, settings) {\n    _classCallCheck(this, Border);\n\n    if (!settings) {\n      return;\n    }\n\n    this.eventManager = new EventManager(wotInstance);\n    this.instance = wotInstance;\n    this.wot = wotInstance;\n    this.settings = settings;\n    this.mouseDown = false;\n    this.main = null;\n    this.top = null;\n    this.left = null;\n    this.bottom = null;\n    this.right = null;\n    this.topStyle = null;\n    this.leftStyle = null;\n    this.bottomStyle = null;\n    this.rightStyle = null;\n    this.cornerDefaultStyle = {\n      width: '6px',\n      height: '6px',\n      borderWidth: '1px',\n      borderStyle: 'solid',\n      borderColor: '#FFF'\n    };\n    this.corner = null;\n    this.cornerStyle = null;\n    this.createBorders(settings);\n    this.registerListeners();\n  }\n  /**\n   * Register all necessary events\n   */\n\n\n  _createClass(Border, [{\n    key: \"registerListeners\",\n    value: function registerListeners() {\n      var _this2 = this;\n\n      var documentBody = this.wot.rootDocument.body;\n      this.eventManager.addEventListener(documentBody, 'mousedown', function () {\n        return _this2.onMouseDown();\n      });\n      this.eventManager.addEventListener(documentBody, 'mouseup', function () {\n        return _this2.onMouseUp();\n      });\n\n      var _loop = function _loop(c, len) {\n        _this2.eventManager.addEventListener(_this2.main.childNodes[c], 'mouseenter', function (event) {\n          return _this2.onMouseEnter(event, _this2.main.childNodes[c]);\n        });\n      };\n\n      for (var c = 0, len = this.main.childNodes.length; c < len; c++) {\n        _loop(c, len);\n      }\n    }\n    /**\n     * Mouse down listener\n     *\n     * @private\n     */\n\n  }, {\n    key: \"onMouseDown\",\n    value: function onMouseDown() {\n      this.mouseDown = true;\n    }\n    /**\n     * Mouse up listener\n     *\n     * @private\n     */\n\n  }, {\n    key: \"onMouseUp\",\n    value: function onMouseUp() {\n      this.mouseDown = false;\n    }\n    /**\n     * Mouse enter listener for fragment selection functionality.\n     *\n     * @private\n     * @param {Event} event Dom event\n     * @param {HTMLElement} parentElement Part of border element.\n     */\n\n  }, {\n    key: \"onMouseEnter\",\n    value: function onMouseEnter(event, parentElement) {\n      if (!this.mouseDown || !this.wot.getSetting('hideBorderOnMouseDownOver')) {\n        return;\n      }\n\n      event.preventDefault();\n      stopImmediatePropagation(event);\n\n      var _this = this;\n\n      var documentBody = this.wot.rootDocument.body;\n      var bounds = parentElement.getBoundingClientRect(); // Hide border to prevents selection jumping when fragmentSelection is enabled.\n\n      parentElement.style.display = 'none';\n\n      function isOutside(mouseEvent) {\n        if (mouseEvent.clientY < Math.floor(bounds.top)) {\n          return true;\n        }\n\n        if (mouseEvent.clientY > Math.ceil(bounds.top + bounds.height)) {\n          return true;\n        }\n\n        if (mouseEvent.clientX < Math.floor(bounds.left)) {\n          return true;\n        }\n\n        if (mouseEvent.clientX > Math.ceil(bounds.left + bounds.width)) {\n          return true;\n        }\n      }\n\n      function handler(handlerEvent) {\n        if (isOutside(handlerEvent)) {\n          _this.eventManager.removeEventListener(documentBody, 'mousemove', handler);\n\n          parentElement.style.display = 'block';\n        }\n      }\n\n      this.eventManager.addEventListener(documentBody, 'mousemove', handler);\n    }\n    /**\n     * Create border elements\n     *\n     * @param {Object} settings\n     */\n\n  }, {\n    key: \"createBorders\",\n    value: function createBorders(settings) {\n      var rootDocument = this.wot.rootDocument;\n      this.main = rootDocument.createElement('div');\n      var borderDivs = ['top', 'left', 'bottom', 'right', 'corner'];\n      var style = this.main.style;\n      style.position = 'absolute';\n      style.top = 0;\n      style.left = 0;\n\n      for (var i = 0; i < 5; i++) {\n        var position = borderDivs[i];\n        var div = rootDocument.createElement('div');\n        div.className = \"wtBorder \".concat(this.settings.className || ''); // + borderDivs[i];\n\n        if (this.settings[position] && this.settings[position].hide) {\n          div.className += ' hidden';\n        }\n\n        style = div.style;\n        style.backgroundColor = this.settings[position] && this.settings[position].color ? this.settings[position].color : settings.border.color;\n        style.height = this.settings[position] && this.settings[position].width ? \"\".concat(this.settings[position].width, \"px\") : \"\".concat(settings.border.width, \"px\");\n        style.width = this.settings[position] && this.settings[position].width ? \"\".concat(this.settings[position].width, \"px\") : \"\".concat(settings.border.width, \"px\");\n        this.main.appendChild(div);\n      }\n\n      this.top = this.main.childNodes[0];\n      this.left = this.main.childNodes[1];\n      this.bottom = this.main.childNodes[2];\n      this.right = this.main.childNodes[3];\n      this.topStyle = this.top.style;\n      this.leftStyle = this.left.style;\n      this.bottomStyle = this.bottom.style;\n      this.rightStyle = this.right.style;\n      this.corner = this.main.childNodes[4];\n      this.corner.className += ' corner';\n      this.cornerStyle = this.corner.style;\n      this.cornerStyle.width = this.cornerDefaultStyle.width;\n      this.cornerStyle.height = this.cornerDefaultStyle.height;\n      this.cornerStyle.border = [this.cornerDefaultStyle.borderWidth, this.cornerDefaultStyle.borderStyle, this.cornerDefaultStyle.borderColor].join(' ');\n\n      if (isMobileBrowser()) {\n        this.createMultipleSelectorHandles();\n      }\n\n      this.disappear();\n      var wtTable = this.wot.wtTable;\n      var bordersHolder = wtTable.bordersHolder;\n\n      if (!bordersHolder) {\n        bordersHolder = rootDocument.createElement('div');\n        bordersHolder.className = 'htBorders';\n        wtTable.bordersHolder = bordersHolder;\n        wtTable.spreader.appendChild(bordersHolder);\n      }\n\n      bordersHolder.appendChild(this.main);\n    }\n    /**\n     * Create multiple selector handler for mobile devices\n     */\n\n  }, {\n    key: \"createMultipleSelectorHandles\",\n    value: function createMultipleSelectorHandles() {\n      var _this3 = this;\n\n      var rootDocument = this.wot.rootDocument;\n      this.selectionHandles = {\n        topLeft: rootDocument.createElement('DIV'),\n        topLeftHitArea: rootDocument.createElement('DIV'),\n        bottomRight: rootDocument.createElement('DIV'),\n        bottomRightHitArea: rootDocument.createElement('DIV')\n      };\n      var width = 10;\n      var hitAreaWidth = 40;\n      this.selectionHandles.topLeft.className = 'topLeftSelectionHandle';\n      this.selectionHandles.topLeftHitArea.className = 'topLeftSelectionHandle-HitArea';\n      this.selectionHandles.bottomRight.className = 'bottomRightSelectionHandle';\n      this.selectionHandles.bottomRightHitArea.className = 'bottomRightSelectionHandle-HitArea';\n      this.selectionHandles.styles = {\n        topLeft: this.selectionHandles.topLeft.style,\n        topLeftHitArea: this.selectionHandles.topLeftHitArea.style,\n        bottomRight: this.selectionHandles.bottomRight.style,\n        bottomRightHitArea: this.selectionHandles.bottomRightHitArea.style\n      };\n      var hitAreaStyle = {\n        position: 'absolute',\n        height: \"\".concat(hitAreaWidth, \"px\"),\n        width: \"\".concat(hitAreaWidth, \"px\"),\n        'border-radius': \"\".concat(parseInt(hitAreaWidth / 1.5, 10), \"px\")\n      };\n      objectEach(hitAreaStyle, function (value, key) {\n        _this3.selectionHandles.styles.bottomRightHitArea[key] = value;\n        _this3.selectionHandles.styles.topLeftHitArea[key] = value;\n      });\n      var handleStyle = {\n        position: 'absolute',\n        height: \"\".concat(width, \"px\"),\n        width: \"\".concat(width, \"px\"),\n        'border-radius': \"\".concat(parseInt(width / 1.5, 10), \"px\"),\n        background: '#F5F5FF',\n        border: '1px solid #4285c8'\n      };\n      objectEach(handleStyle, function (value, key) {\n        _this3.selectionHandles.styles.bottomRight[key] = value;\n        _this3.selectionHandles.styles.topLeft[key] = value;\n      });\n      this.main.appendChild(this.selectionHandles.topLeft);\n      this.main.appendChild(this.selectionHandles.bottomRight);\n      this.main.appendChild(this.selectionHandles.topLeftHitArea);\n      this.main.appendChild(this.selectionHandles.bottomRightHitArea);\n    }\n  }, {\n    key: \"isPartRange\",\n    value: function isPartRange(row, col) {\n      var areaSelection = this.wot.selections.createOrGetArea();\n\n      if (areaSelection.cellRange) {\n        if (row !== areaSelection.cellRange.to.row || col !== areaSelection.cellRange.to.col) {\n          return true;\n        }\n      }\n\n      return false;\n    }\n  }, {\n    key: \"updateMultipleSelectionHandlesPosition\",\n    value: function updateMultipleSelectionHandlesPosition(row, col, top, left, width, height) {\n      var handleWidth = parseInt(this.selectionHandles.styles.topLeft.width, 10);\n      var hitAreaWidth = parseInt(this.selectionHandles.styles.topLeftHitArea.width, 10);\n      this.selectionHandles.styles.topLeft.top = \"\".concat(parseInt(top - handleWidth, 10), \"px\");\n      this.selectionHandles.styles.topLeft.left = \"\".concat(parseInt(left - handleWidth, 10), \"px\");\n      this.selectionHandles.styles.topLeftHitArea.top = \"\".concat(parseInt(top - hitAreaWidth / 4 * 3, 10), \"px\");\n      this.selectionHandles.styles.topLeftHitArea.left = \"\".concat(parseInt(left - hitAreaWidth / 4 * 3, 10), \"px\");\n      this.selectionHandles.styles.bottomRight.top = \"\".concat(parseInt(top + height, 10), \"px\");\n      this.selectionHandles.styles.bottomRight.left = \"\".concat(parseInt(left + width, 10), \"px\");\n      this.selectionHandles.styles.bottomRightHitArea.top = \"\".concat(parseInt(top + height - hitAreaWidth / 4, 10), \"px\");\n      this.selectionHandles.styles.bottomRightHitArea.left = \"\".concat(parseInt(left + width - hitAreaWidth / 4, 10), \"px\");\n\n      if (this.settings.border.cornerVisible && this.settings.border.cornerVisible()) {\n        this.selectionHandles.styles.topLeft.display = 'block';\n        this.selectionHandles.styles.topLeftHitArea.display = 'block';\n\n        if (this.isPartRange(row, col)) {\n          this.selectionHandles.styles.bottomRight.display = 'none';\n          this.selectionHandles.styles.bottomRightHitArea.display = 'none';\n        } else {\n          this.selectionHandles.styles.bottomRight.display = 'block';\n          this.selectionHandles.styles.bottomRightHitArea.display = 'block';\n        }\n      } else {\n        this.selectionHandles.styles.topLeft.display = 'none';\n        this.selectionHandles.styles.bottomRight.display = 'none';\n        this.selectionHandles.styles.topLeftHitArea.display = 'none';\n        this.selectionHandles.styles.bottomRightHitArea.display = 'none';\n      }\n\n      if (row === this.wot.wtSettings.getSetting('fixedRowsTop') || col === this.wot.wtSettings.getSetting('fixedColumnsLeft')) {\n        this.selectionHandles.styles.topLeft.zIndex = '9999';\n        this.selectionHandles.styles.topLeftHitArea.zIndex = '9999';\n      } else {\n        this.selectionHandles.styles.topLeft.zIndex = '';\n        this.selectionHandles.styles.topLeftHitArea.zIndex = '';\n      }\n    }\n    /**\n     * Show border around one or many cells\n     *\n     * @param {Array} corners\n     */\n\n  }, {\n    key: \"appear\",\n    value: function appear(corners) {\n      if (this.disabled) {\n        return;\n      }\n\n      var _this$wot = this.wot,\n          wtTable = _this$wot.wtTable,\n          rootDocument = _this$wot.rootDocument,\n          rootWindow = _this$wot.rootWindow;\n      var fromRow;\n      var toRow;\n      var fromColumn;\n      var toColumn;\n      var rowsCount = wtTable.getRenderedRowsCount();\n\n      for (var i = 0; i < rowsCount; i += 1) {\n        var s = wtTable.rowFilter.renderedToSource(i);\n\n        if (s >= corners[0] && s <= corners[2]) {\n          fromRow = s;\n          break;\n        }\n      }\n\n      for (var _i = rowsCount - 1; _i >= 0; _i -= 1) {\n        var _s = wtTable.rowFilter.renderedToSource(_i);\n\n        if (_s >= corners[0] && _s <= corners[2]) {\n          toRow = _s;\n          break;\n        }\n      }\n\n      var columnsCount = wtTable.getRenderedColumnsCount();\n\n      for (var _i2 = 0; _i2 < columnsCount; _i2 += 1) {\n        var _s2 = wtTable.columnFilter.renderedToSource(_i2);\n\n        if (_s2 >= corners[1] && _s2 <= corners[3]) {\n          fromColumn = _s2;\n          break;\n        }\n      }\n\n      for (var _i3 = columnsCount - 1; _i3 >= 0; _i3 -= 1) {\n        var _s3 = wtTable.columnFilter.renderedToSource(_i3);\n\n        if (_s3 >= corners[1] && _s3 <= corners[3]) {\n          toColumn = _s3;\n          break;\n        }\n      }\n\n      if (fromRow === void 0 || fromColumn === void 0) {\n        this.disappear();\n        return;\n      }\n\n      var fromTD = wtTable.getCell(new CellCoords(fromRow, fromColumn));\n      var isMultiple = fromRow !== toRow || fromColumn !== toColumn;\n      var toTD = isMultiple ? wtTable.getCell(new CellCoords(toRow, toColumn)) : fromTD;\n      var fromOffset = offset(fromTD);\n      var toOffset = isMultiple ? offset(toTD) : fromOffset;\n      var containerOffset = offset(wtTable.TABLE);\n      var minTop = fromOffset.top;\n      var minLeft = fromOffset.left;\n      var left = minLeft - containerOffset.left - 1;\n      var width = toOffset.left + outerWidth(toTD) - minLeft;\n\n      if (this.isEntireColumnSelected(fromRow, toRow)) {\n        var modifiedValues = this.getDimensionsFromHeader('columns', fromColumn, toColumn, containerOffset);\n        var fromTH = null;\n\n        if (modifiedValues) {\n          var _modifiedValues = _slicedToArray(modifiedValues, 3);\n\n          fromTH = _modifiedValues[0];\n          left = _modifiedValues[1];\n          width = _modifiedValues[2];\n        }\n\n        if (fromTH) {\n          fromTD = fromTH;\n        }\n      }\n\n      var top = minTop - containerOffset.top - 1;\n      var height = toOffset.top + outerHeight(toTD) - minTop;\n\n      if (this.isEntireRowSelected(fromColumn, toColumn)) {\n        var _modifiedValues2 = this.getDimensionsFromHeader('rows', fromRow, toRow, containerOffset);\n\n        var _fromTH = null;\n\n        if (_modifiedValues2) {\n          var _modifiedValues3 = _slicedToArray(_modifiedValues2, 3);\n\n          _fromTH = _modifiedValues3[0];\n          top = _modifiedValues3[1];\n          height = _modifiedValues3[2];\n        }\n\n        if (_fromTH) {\n          fromTD = _fromTH;\n        }\n      }\n\n      var style = getComputedStyle(fromTD, rootWindow);\n\n      if (parseInt(style.borderTopWidth, 10) > 0) {\n        top += 1;\n        height = height > 0 ? height - 1 : 0;\n      }\n\n      if (parseInt(style.borderLeftWidth, 10) > 0) {\n        left += 1;\n        width = width > 0 ? width - 1 : 0;\n      }\n\n      this.topStyle.top = \"\".concat(top, \"px\");\n      this.topStyle.left = \"\".concat(left, \"px\");\n      this.topStyle.width = \"\".concat(width, \"px\");\n      this.topStyle.display = 'block';\n      this.leftStyle.top = \"\".concat(top, \"px\");\n      this.leftStyle.left = \"\".concat(left, \"px\");\n      this.leftStyle.height = \"\".concat(height, \"px\");\n      this.leftStyle.display = 'block';\n      var delta = Math.floor(this.settings.border.width / 2);\n      this.bottomStyle.top = \"\".concat(top + height - delta, \"px\");\n      this.bottomStyle.left = \"\".concat(left, \"px\");\n      this.bottomStyle.width = \"\".concat(width, \"px\");\n      this.bottomStyle.display = 'block';\n      this.rightStyle.top = \"\".concat(top, \"px\");\n      this.rightStyle.left = \"\".concat(left + width - delta, \"px\");\n      this.rightStyle.height = \"\".concat(height + 1, \"px\");\n      this.rightStyle.display = 'block';\n      var cornerVisibleSetting = this.settings.border.cornerVisible;\n      cornerVisibleSetting = typeof cornerVisibleSetting === 'function' ? cornerVisibleSetting(this.settings.layerLevel) : cornerVisibleSetting;\n      var hookResult = this.wot.getSetting('onModifyGetCellCoords', toRow, toColumn);\n      var checkRow = toRow,\n          checkCol = toColumn;\n\n      if (hookResult && Array.isArray(hookResult)) {\n        var _hookResult = _slicedToArray(hookResult, 4);\n\n        checkRow = _hookResult[2];\n        checkCol = _hookResult[3];\n      }\n\n      if (isMobileBrowser() || !cornerVisibleSetting || this.isPartRange(checkRow, checkCol)) {\n        this.cornerStyle.display = 'none';\n      } else {\n        this.cornerStyle.top = \"\".concat(top + height - 4, \"px\");\n        this.cornerStyle.left = \"\".concat(left + width - 4, \"px\");\n        this.cornerStyle.borderRightWidth = this.cornerDefaultStyle.borderWidth;\n        this.cornerStyle.width = this.cornerDefaultStyle.width; // Hide the fill handle, so the possible further adjustments won't force unneeded scrollbars.\n\n        this.cornerStyle.display = 'none';\n        var trimmingContainer = getTrimmingContainer(wtTable.TABLE);\n        var trimToWindow = trimmingContainer === rootWindow;\n\n        if (trimToWindow) {\n          trimmingContainer = rootDocument.documentElement;\n        }\n\n        if (toColumn === this.wot.getSetting('totalColumns') - 1) {\n          var toTdOffsetLeft = trimToWindow ? toTD.getBoundingClientRect().left : toTD.offsetLeft;\n          var cornerRightEdge = toTdOffsetLeft + outerWidth(toTD) + parseInt(this.cornerDefaultStyle.width, 10) / 2;\n          var cornerOverlappingContainer = cornerRightEdge >= innerWidth(trimmingContainer);\n\n          if (cornerOverlappingContainer) {\n            this.cornerStyle.left = \"\".concat(Math.floor(left + width - 3 - parseInt(this.cornerDefaultStyle.width, 10) / 2), \"px\");\n            this.cornerStyle.borderRightWidth = 0;\n          }\n        }\n\n        if (toRow === this.wot.getSetting('totalRows') - 1) {\n          var toTdOffsetTop = trimToWindow ? toTD.getBoundingClientRect().top : toTD.offsetTop;\n          var cornerBottomEdge = toTdOffsetTop + outerHeight(toTD) + parseInt(this.cornerDefaultStyle.height, 10) / 2;\n\n          var _cornerOverlappingContainer = cornerBottomEdge >= innerHeight(trimmingContainer);\n\n          if (_cornerOverlappingContainer) {\n            this.cornerStyle.top = \"\".concat(Math.floor(top + height - 3 - parseInt(this.cornerDefaultStyle.height, 10) / 2), \"px\");\n            this.cornerStyle.borderBottomWidth = 0;\n          }\n        }\n\n        this.cornerStyle.display = 'block';\n      }\n\n      if (isMobileBrowser()) {\n        this.updateMultipleSelectionHandlesPosition(toRow, toColumn, top, left, width, height);\n      }\n    }\n    /**\n     * Check whether an entire column of cells is selected.\n     *\n     * @private\n     * @param {Number} startRowIndex Start row index.\n     * @param {Number} endRowIndex End row index.\n     */\n\n  }, {\n    key: \"isEntireColumnSelected\",\n    value: function isEntireColumnSelected(startRowIndex, endRowIndex) {\n      return startRowIndex === this.wot.wtTable.getFirstRenderedRow() && endRowIndex === this.wot.wtTable.getLastRenderedRow();\n    }\n    /**\n     * Check whether an entire row of cells is selected.\n     *\n     * @private\n     * @param {Number} startColumnIndex Start column index.\n     * @param {Number} endColumnIndex End column index.\n     */\n\n  }, {\n    key: \"isEntireRowSelected\",\n    value: function isEntireRowSelected(startColumnIndex, endColumnIndex) {\n      return startColumnIndex === this.wot.wtTable.getFirstRenderedColumn() && endColumnIndex === this.wot.wtTable.getLastRenderedColumn();\n    }\n    /**\n     * Get left/top index and width/height depending on the `direction` provided.\n     *\n     * @private\n     * @param {String} direction `rows` or `columns`, defines if an entire column or row is selected.\n     * @param {Number} fromIndex Start index of the selection.\n     * @param {Number} toIndex End index of the selection.\n     * @param {Number} containerOffset offset of the container.\n     * @return {Array|Boolean} Returns an array of [headerElement, left, width] or [headerElement, top, height], depending on `direction` (`false` in case of an error getting the headers).\n     */\n\n  }, {\n    key: \"getDimensionsFromHeader\",\n    value: function getDimensionsFromHeader(direction, fromIndex, toIndex, containerOffset) {\n      var wtTable = this.wot.wtTable;\n      var rootHotElement = wtTable.wtRootElement.parentNode;\n      var getHeaderFn = null;\n      var dimensionFn = null;\n      var entireSelectionClassname = null;\n      var index = null;\n      var dimension = null;\n      var dimensionProperty = null;\n      var startHeader = null;\n      var endHeader = null;\n\n      switch (direction) {\n        case 'rows':\n          getHeaderFn = function getHeaderFn() {\n            return wtTable.getRowHeader.apply(wtTable, arguments);\n          };\n\n          dimensionFn = function dimensionFn() {\n            return outerHeight.apply(void 0, arguments);\n          };\n\n          entireSelectionClassname = 'ht__selection--rows';\n          dimensionProperty = 'top';\n          break;\n\n        case 'columns':\n          getHeaderFn = function getHeaderFn() {\n            return wtTable.getColumnHeader.apply(wtTable, arguments);\n          };\n\n          dimensionFn = function dimensionFn() {\n            return outerWidth.apply(void 0, arguments);\n          };\n\n          entireSelectionClassname = 'ht__selection--columns';\n          dimensionProperty = 'left';\n          break;\n\n        default:\n      }\n\n      if (rootHotElement.className.includes(entireSelectionClassname)) {\n        var columnHeaderLevelCount = this.wot.getSetting('columnHeaders').length;\n        startHeader = getHeaderFn(fromIndex, columnHeaderLevelCount - 1);\n        endHeader = getHeaderFn(toIndex, columnHeaderLevelCount - 1);\n\n        if (!startHeader || !endHeader) {\n          return false;\n        }\n\n        var startHeaderOffset = offset(startHeader);\n        var endOffset = offset(endHeader);\n\n        if (startHeader && endHeader) {\n          index = startHeaderOffset[dimensionProperty] - containerOffset[dimensionProperty] - 1;\n          dimension = endOffset[dimensionProperty] + dimensionFn(endHeader) - startHeaderOffset[dimensionProperty];\n        }\n\n        return [startHeader, index, dimension];\n      }\n\n      return false;\n    }\n    /**\n     * Change border style.\n     *\n     * @private\n     * @param {String} borderElement Coordinate where add/remove border: top, right, bottom, left.\n     */\n\n  }, {\n    key: \"changeBorderStyle\",\n    value: function changeBorderStyle(borderElement, border) {\n      var style = this[borderElement].style;\n      var borderStyle = border[borderElement];\n\n      if (!borderStyle || borderStyle.hide) {\n        addClass(this[borderElement], 'hidden');\n      } else {\n        if (hasClass(this[borderElement], 'hidden')) {\n          removeClass(this[borderElement], 'hidden');\n        }\n\n        style.backgroundColor = borderStyle.color;\n\n        if (borderElement === 'top' || borderElement === 'bottom') {\n          style.height = \"\".concat(borderStyle.width, \"px\");\n        }\n\n        if (borderElement === 'right' || borderElement === 'left') {\n          style.width = \"\".concat(borderStyle.width, \"px\");\n        }\n      }\n    }\n    /**\n     * Change border style to default.\n     *\n     * @private\n     * @param {HTMLElement} position\n     */\n\n  }, {\n    key: \"changeBorderToDefaultStyle\",\n    value: function changeBorderToDefaultStyle(position) {\n      var defaultBorder = {\n        width: 1,\n        color: '#000'\n      };\n      var style = this[position].style;\n      style.backgroundColor = defaultBorder.color;\n      style.width = \"\".concat(defaultBorder.width, \"px\");\n      style.height = \"\".concat(defaultBorder.width, \"px\");\n    }\n    /**\n     * Toggle class 'hidden' to element.\n     *\n     * @private\n     * @param {String} borderElement Coordinate where add/remove border: top, right, bottom, left.\n     * @return {Boolean}\n     */\n\n  }, {\n    key: \"toggleHiddenClass\",\n    value: function toggleHiddenClass(borderElement, remove) {\n      this.changeBorderToDefaultStyle(borderElement);\n\n      if (remove) {\n        addClass(this[borderElement], 'hidden');\n      } else {\n        removeClass(this[borderElement], 'hidden');\n      }\n    }\n    /**\n     * Hide border\n     */\n\n  }, {\n    key: \"disappear\",\n    value: function disappear() {\n      this.topStyle.display = 'none';\n      this.leftStyle.display = 'none';\n      this.bottomStyle.display = 'none';\n      this.rightStyle.display = 'none';\n      this.cornerStyle.display = 'none';\n\n      if (isMobileBrowser()) {\n        this.selectionHandles.styles.topLeft.display = 'none';\n        this.selectionHandles.styles.bottomRight.display = 'none';\n      }\n    }\n    /**\n     * Cleans up all the DOM state related to a Border instance. Call this prior to deleting a Border instance.\n     */\n\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.eventManager.destroyWithOwnEventsOnly();\n      this.main.parentNode.removeChild(this.main);\n    }\n  }]);\n\n  return Border;\n}();\n\nexport default Border;"]},"metadata":{},"sourceType":"module"}