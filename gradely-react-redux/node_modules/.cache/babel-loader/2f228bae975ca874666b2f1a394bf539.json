{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\pjk14\\\\Desktop\\\\Gradely\\\\gradely-react\\\\src\\\\components\\\\utility-boxes\\\\adminOnly\\\\AddUserModal.js\";\nimport React, { Component, useEffect } from 'react';\nimport Delete from \"../../../images/icons/trash.svg\";\nimport Edit from \"../../../images/icons/edit.svg\";\nimport saveUser from '../../databaseUtil/databaseUtil';\nimport axios from 'axios';\nimport EditUser from './EditUser';\nimport UserListing from './UserListing';\nimport AddUserForm from './AddUserForm';\n\nclass AddUserModal extends Component {\n  constructor() {\n    super();\n\n    this.updateComponent = user => {\n      console.log(user);\n      let tempUserList = this.state.userList;\n      tempUserList.push(user);\n      this.setState({\n        userList: tempUserList\n      });\n    };\n\n    this.getAllUsers = async () => {\n      let response = await axios.get(\"http://localhost:8080/all\");\n      let data = response.data;\n      this.setState({\n        userList: data\n      });\n    };\n\n    this.editUser = this.editUser.bind(this);\n    this.deleteUser = this.deleteUser.bind(this);\n    this.state = {\n      currentEditUserAddress: [],\n      currentEditUser: \"\",\n      success: \"\",\n      userList: [],\n      userCompoentList: []\n    };\n  }\n\n  saveUser(user) {\n    if (!user.type) {\n      return \"User type not defined\";\n    }\n\n    console.log(\"HERE\");\n    let path = \"\";\n\n    switch (user.type) {\n      case \"TEACHER\":\n        path = \"teacher/new\";\n        break;\n\n      case \"PARENT\":\n        path = \"parent/new\";\n        break;\n\n      case \"STUDENT\":\n        console.log(\"STUDENT\");\n        path = \"student/new\";\n        break;\n\n      case \"ADMIN\":\n        path = \"admin/new\";\n        break;\n\n      default:\n        break;\n    }\n\n    const fullPath = \"http://localhost:8080/\" + path;\n    axios.post(fullPath, user).then(response => {\n      return response.data;\n    });\n  }\n\n  handleSubmit(user) {\n    const newUser = this.saveUser(user);\n    let tempUserList = this.state.userList;\n    tempUserList.push(newUser);\n    this.setState({\n      userList: tempUser,\n      success: \"Success!\"\n    });\n  }\n\n  editUser(user) {\n    this.setState({\n      currentEditUser: user,\n      currentEditUserAddress: user.contactInformation\n    });\n  }\n\n  deleteUser(id) {\n    //delete from database and reset state\n    const answer = window.confirm(\"Are you sure you want to delete user \" + id);\n\n    if (answer) {\n      axios.get(\"http://localhost:8080/delete/\" + id).then(response => {\n        console.log(response.data);\n        return response.data;\n      });\n      const tempItems = this.state.userList.map(user => {\n        return user.key == id ? null : user;\n      });\n      this.setState({\n        userList: tempItems\n      });\n    } else {\n      return;\n    }\n  }\n\n  componentDidMount() {\n    this.getAllUsers();\n  }\n\n  render() {\n    let counter = 1;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      \"data-backdrop\": \"static\",\n      className: \"modal fade\",\n      id: \"addStudentModal\",\n      tabIndex: -1,\n      role: \"dialog\",\n      \"aria-labelledby\": \"exampleModalLabel\",\n      \"aria-hidden\": \"true\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal-dialog mw-100 w-75\",\n      role: \"document\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal-content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal-header\",\n      ref: this.focusRef,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      className: \"modal-title\",\n      id: \"exampleModalLabel\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 17\n      }\n    }, \"Add or Remove Users\"), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"close\",\n      \"data-dismiss\": \"modal\",\n      \"aria-label\": \"Close\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      \"aria-hidden\": \"true\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 19\n      }\n    }, \"\\xD7\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal-body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row pl-2 border-bottom\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      className: \"form-inline\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group mb-2 mr-sm-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group-prepend\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 27\n      }\n    }, \"Search\")), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      id: \"inlineFormInputGroupUsername2\",\n      placeholder: \"Username\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group mb-2 mr-sm-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"select\", {\n      className: \"custom-select my-1 mr-sm-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      selected: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 27\n      }\n    }, \"Choose...\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: 1,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 27\n      }\n    }, \"Student\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: 2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 27\n      }\n    }, \"Admin\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: 3,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 27\n      }\n    }, \"Parent\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: 4,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 27\n      }\n    }, \"Teacher\"))), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-outline-primary mb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 23\n      }\n    }, \"Find\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-3 border-right overflow-auto mt-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 21\n      }\n    }, this.state.userList.length === 0 ? /*#__PURE__*/React.createElement(\"div\", {\n      class: \"progress\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"progress-bar progress-bar-striped progress-bar-animated w-75\",\n      role: \"progressbar\",\n      \"aria-valuenow\": () => counter++,\n      \"aria-valuemin\": \"0\",\n      \"aria-valuemax\": \"100\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 27\n      }\n    })) : this.state.userList.map(user => {\n      const fullName = user.firstName + \" \" + user.lastName;\n      return /*#__PURE__*/React.createElement(UserListing, {\n        key: user.id,\n        editUser: () => this.editUser(user),\n        deleteUser: () => this.deleteUser(user.id),\n        text: fullName,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 31\n        }\n      });\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col mt-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(AddUserForm, {\n      sendUser: () => this.handleSubmit(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 25\n      }\n    })))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal-footer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"text-success mr-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 17\n      }\n    }, this.state.success), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn btn-secondary\",\n      \"data-dismiss\": \"modal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 17\n      }\n    }, \"Close\"))))));\n  }\n\n}\n\nexport default AddUserModal;","map":{"version":3,"sources":["C:/Users/pjk14/Desktop/Gradely/gradely-react/src/components/utility-boxes/adminOnly/AddUserModal.js"],"names":["React","Component","useEffect","saveUser","axios","EditUser","UserListing","AddUserForm","AddUserModal","constructor","updateComponent","user","console","log","tempUserList","state","userList","push","setState","getAllUsers","response","get","data","editUser","bind","deleteUser","currentEditUserAddress","currentEditUser","success","userCompoentList","type","path","fullPath","post","then","handleSubmit","newUser","tempUser","contactInformation","id","answer","window","confirm","tempItems","map","key","componentDidMount","render","counter","focusRef","length","fullName","firstName","lastName"],"mappings":"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","sourcesContent":["import React, { Component, useEffect } from 'react';\r\nimport Delete from '../../../images/icons/trash.svg';\r\nimport Edit from '../../../images/icons/edit.svg';\r\nimport saveUser from '../../databaseUtil/databaseUtil';\r\nimport axios from 'axios'\r\nimport EditUser from './EditUser';\r\nimport UserListing from './UserListing';\r\nimport AddUserForm from './AddUserForm';\r\n\r\nclass AddUserModal extends Component {\r\n  constructor() {\r\n    super()\r\n\r\n\r\n    this.editUser = this.editUser.bind(this)\r\n    this.deleteUser = this.deleteUser.bind(this)\r\n\r\n    this.state = {\r\n      currentEditUserAddress: [],\r\n      currentEditUser: \"\",\r\n      success: \"\",\r\n      userList: [],\r\n      userCompoentList: []\r\n    }\r\n  }\r\n\r\n  saveUser(user) {\r\n    if (!user.type) {\r\n        return \"User type not defined\"\r\n      }\r\n      console.log(\"HERE\")\r\n    let path = \"\"\r\n    switch (user.type) {\r\n        case \"TEACHER\":\r\n            path=\"teacher/new\"\r\n            break;\r\n        case \"PARENT\":\r\n            path=\"parent/new\"\r\n            break;\r\n        case \"STUDENT\":\r\n            console.log(\"STUDENT\")\r\n            path=\"student/new\"\r\n            break;\r\n        case \"ADMIN\":\r\n            path=\"admin/new\"\r\n            break;\r\n        default:\r\n\r\n            break;\r\n    }\r\n    const fullPath = \"http://localhost:8080/\"+path\r\n    axios.post(fullPath, user).then((response) => {\r\n    return response.data\r\n  })\r\n}\r\n\r\nhandleSubmit(user) {\r\n    \r\n    const newUser = this.saveUser(user)\r\n    \r\n    let tempUserList = this.state.userList\r\n    tempUserList.push(newUser)\r\n\r\n\r\n    this.setState({\r\n        userList: tempUser,\r\n        success: \"Success!\"\r\n    }\r\n    )\r\n\r\n    \r\n\r\n  }\r\n\r\n  editUser(user) {\r\n\r\n    this.setState({\r\n      currentEditUser: user,\r\n      currentEditUserAddress: user.contactInformation\r\n    })\r\n  }\r\n\r\n  deleteUser(id) {\r\n    //delete from database and reset state\r\n    const answer = window.confirm(\"Are you sure you want to delete user \" + id);\r\n\r\n    if (answer) {\r\n      axios.get(\"http://localhost:8080/delete/\" + id).then(response => {\r\n        console.log(response.data)\r\n        return response.data\r\n      })\r\n\r\n      const tempItems = this.state.userList.map(user => {\r\n\r\n        return user.key == id ? null : user\r\n      })\r\n\r\n      this.setState({\r\n        userList: tempItems\r\n      })\r\n    } else {\r\n      return\r\n    }\r\n\r\n  }\r\n\r\n\r\n  updateComponent = (user) => {\r\n    console.log(user)\r\n    let tempUserList = this.state.userList\r\n    tempUserList.push(user)\r\n    this.setState({\r\n      userList: tempUserList\r\n    }\r\n    )\r\n  }\r\n\r\n  getAllUsers = async () => {\r\n    let response = await axios.get(\"http://localhost:8080/all\");\r\n    let data = response.data;\r\n    this.setState({ userList: data });\r\n  };\r\n\r\n  componentDidMount() {\r\n\r\n    this.getAllUsers()\r\n  }\r\n\r\n  render() {\r\n    let counter = 1\r\n    return (\r\n      <div>\r\n        <div data-backdrop=\"static\" className=\"modal fade\" id=\"addStudentModal\" tabIndex={-1} role=\"dialog\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\r\n          <div className=\"modal-dialog mw-100 w-75\" role=\"document\">\r\n            <div className=\"modal-content\">\r\n              <div className=\"modal-header\" ref={this.focusRef}>\r\n                <h5 className=\"modal-title\" id=\"exampleModalLabel\">Add or Remove Users</h5>\r\n                <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n                  <span aria-hidden=\"true\">Ã—</span>\r\n                </button>\r\n              </div>\r\n              <div className=\"modal-body\">\r\n                <div>\r\n                  <div className=\"row pl-2 border-bottom\">\r\n                    <form className=\"form-inline\" >\r\n                      <div className=\"input-group mb-2 mr-sm-2\">\r\n                        <div className=\"input-group-prepend\">\r\n                          <div className=\"input-group-text\">Search</div>\r\n                        </div>\r\n                        <input type=\"text\" className=\"form-control\" id=\"inlineFormInputGroupUsername2\" placeholder=\"Username\" />\r\n                      </div>\r\n                      {/* Select user dropdown menu */}\r\n                      <div className=\"input-group mb-2 mr-sm-2\">\r\n                        <select className=\"custom-select my-1 mr-sm-2\">\r\n                          <option selected>Choose...</option>\r\n                          <option value={1}>Student</option>\r\n                          <option value={2}>Admin</option>\r\n                          <option value={3}>Parent</option>\r\n                          <option value={4}>Teacher</option>\r\n                        </select>\r\n                      </div>\r\n\r\n                      <button type=\"submit\" className=\"btn btn-outline-primary mb-2\">Find</button>\r\n                    </form>\r\n\r\n                  </div>\r\n                  <div className=\"row\">\r\n                    <div className=\"col-md-3 border-right overflow-auto mt-4\">\r\n\r\n                      {/* List of all users that have been searched for */}\r\n                      {this.state.userList.length === 0 ? (\r\n                        <div class=\"progress\">\r\n                          <div class=\"progress-bar progress-bar-striped progress-bar-animated w-75\" role=\"progressbar\" aria-valuenow={() => counter++} aria-valuemin=\"0\" aria-valuemax=\"100\" ></div>\r\n                        </div>\r\n\r\n                      ) : (\r\n                          this.state.userList.map(user => {\r\n                            const fullName = user.firstName + \" \" + user.lastName\r\n                            return (\r\n                              <UserListing\r\n                                key={user.id}\r\n                                editUser={() => this.editUser(user)}\r\n                                deleteUser={() => this.deleteUser(user.id)}\r\n                                text={fullName} />\r\n                            )\r\n                          })\r\n                        )}\r\n\r\n                    </div>\r\n\r\n                    <div className=\"col mt-4\">\r\n                      <div className=\"col-md-12\">\r\n\r\n                        {/* Form to create a new student */}\r\n                        <AddUserForm sendUser={() => this.handleSubmit()} />\r\n\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"modal-footer\">\r\n                <h4 className=\"text-success mr-5\">{this.state.success}</h4>\r\n                <button type=\"button\" className=\"btn btn-secondary\" data-dismiss=\"modal\" >Close</button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AddUserModal;"]},"metadata":{},"sourceType":"module"}