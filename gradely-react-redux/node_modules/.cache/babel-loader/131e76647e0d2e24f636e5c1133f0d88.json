{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\pjk14\\\\Desktop\\\\Gradely\\\\gradely-react\\\\src\\\\components\\\\login\\\\LoginBox.js\";\nimport React, { Component, useState } from 'react';\nimport { BrowserRouter as Router, NavLink, Switch, Route, Link, Redirect, withRouter } from \"react-router-dom\";\nimport LoginPage from '../../pages/login/LoginPage';\nimport axios from 'axios';\nimport FadeIn from 'react-fade-in';\nimport Bounce from 'react-reveal/Bounce';\nimport Slide from 'react-reveal/Slide';\n\nclass LoginBox extends Component {\n  constructor(props) {\n    super();\n    this.handleSubmitError = this.handleSubmitError.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.adminLogin = this.adminLogin.bind(this);\n    this.teacherLogin = this.teacherLogin.bind(this);\n    this.districtLogin = this.districtLogin.bind(this);\n    this.state = {\n      email: \"\",\n      password: \"\",\n      message: \"\",\n      staffMessage: \"\"\n    };\n  }\n\n  setEmail(value) {\n    this.setState({\n      email: value\n    });\n  }\n\n  setPassword(value) {\n    this.setState({\n      password: value\n    });\n  }\n\n  route(path) {}\n\n  handleSubmitError(text) {\n    this.setState({\n      message: text\n    });\n    document.getElementById(\"error-text\").style = {\n      display: \"block\"\n    };\n  }\n\n  staffLogin() {\n    document.getElementById(\"staff-login\").style = {\n      display: \"block\"\n    };\n  }\n\n  otherLogin() {\n    document.getElementById(\"staff-login\").style = {\n      display: \"none\"\n    };\n  }\n\n  adminLogin() {\n    this.setState({\n      staffMessage: \"Admin\"\n    });\n    document.getElementById(\"staff-message\").style = {\n      display: \"block\"\n    };\n  }\n\n  teacherLogin() {\n    this.setState({\n      staffMessage: \"Teacher\"\n    });\n    document.getElementById(\"staff-message\").style = {\n      display: \"block\"\n    };\n  }\n\n  districtLogin() {\n    this.setState({\n      staffMessage: \"District\"\n    });\n    document.getElementById(\"staff-message\").style = {\n      display: \"block\"\n    };\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n\n    if (this.state.email.length > 0 && this.state.password.length > 0) {\n      const user = {\n        \"email\": this.state.email,\n        \"password\": this.state.password\n      };\n\n      if ([\"student\", \"parent\", \"staff\"].indexOf(this.props.location.pathname) > -1) {\n        this.handleSubmitError(\"Please Select a User Type\");\n      } else axios.post(`http://localhost:8080/${this.props.location.pathname}/login?email=${this.state.email}&password=${this.state.password}`).then(response => {\n        console.log(response.data);\n\n        if (response.data != \"\") {\n          console.log(response.data.staff);\n          sessionStorage.setItem(\"user\", response.data.user.email);\n\n          switch (this.props.location.pathname) {\n            case \"/staff\":\n              this.props.history.push('/admin/home');\n              break;\n\n            case \"/student\":\n              this.props.history.push('/student/home');\n              break;\n\n            case \"/staff\":\n              this.props.history.push('/teacher/home');\n              break;\n\n            default:\n              break;\n          }\n        } else {\n          sessionStorage.clear();\n          this.handleSubmitError(\"Username or password is incorrect\");\n        }\n      }).catch();\n    } else {\n      this.handleSubmitError(\"Username or Password cannot be blank\");\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(FadeIn, {\n      transitionDuration: 1000,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mt-5 mx-auto w-50 p-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"rounded-lg shadow p-3 bg-light\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"ul\", {\n      className: \"nav nav-tabs\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      className: \"nav-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(NavLink, {\n      activeClassName: \"active\",\n      className: \"nav-link\",\n      to: \"student\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 33\n      }\n    }, \"Student\")), /*#__PURE__*/React.createElement(\"li\", {\n      className: \"nav-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(NavLink, {\n      activeClassName: \"active\",\n      className: \"nav-link\",\n      to: \"parent\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 33\n      }\n    }, \"Parent\")), /*#__PURE__*/React.createElement(\"li\", {\n      className: \"nav-item\",\n      onClick: this.staffLogin,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(NavLink, {\n      activeClassName: \"active\",\n      className: \"nav-link\",\n      to: \"staff\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 33\n      }\n    }, \"Staff\"))), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"staff-login\",\n      className: \" my-2\",\n      style: {\n        display: \"none\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row nav\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mx-auto\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(Slide, {\n      top: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(NavLink, {\n      style: {\n        display: \"inline-block\"\n      },\n      activeClassName: \"active\",\n      className: \"btn btn-info mx-1 nav-item\",\n      to: \"teacher\",\n      onClick: this.teacherLogin,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 41\n      }\n    }, \"Teacher\")), /*#__PURE__*/React.createElement(Slide, {\n      right: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(NavLink, {\n      style: {\n        display: \"inline\"\n      },\n      activeClassName: \"active\",\n      className: \"btn btn-info mx-1 nav-item\",\n      to: \"teacher\",\n      onClick: this.teacherLogin,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 50\n      }\n    }, \"Admin\")), /*#__PURE__*/React.createElement(Slide, {\n      left: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(NavLink, {\n      style: {\n        display: \"inline\"\n      },\n      activeClassName: \"active\",\n      className: \"btn btn-info mx-1 nav=item\",\n      to: \"teacher\",\n      onClick: this.teacherLogin,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 49\n      }\n    }, \"District\"))))), /*#__PURE__*/React.createElement(Bounce, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"error-text\",\n      style: {\n        display: \"none\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"small\", {\n      className: \"text-danger\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 33\n      }\n    }, this.state.message))), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"form-group mt-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      for: \"exampleInputEmail1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 37\n      }\n    }, \"Email address  \"), /*#__PURE__*/React.createElement(\"span\", {\n      style: {\n        display: \"none\"\n      },\n      id: \"staff-message\",\n      className: \"float-right text-muted\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(Bounce, {\n      spy: this.state.staffMessage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 76\n      }\n    }, this.state.staffMessage)), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"email\",\n      className: \"border-top-0 border-left-0 border-right-0 rounded-0 form-control\",\n      value: this.state.email,\n      autoFocus: true,\n      onChange: e => this.setEmail(e.target.value),\n      id: \"email\",\n      \"aria-describedby\": \"Email Address\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 37\n      }\n    }), /*#__PURE__*/React.createElement(\"small\", {\n      id: \"emailHelp\",\n      className: \"form-text text-muted\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 37\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      for: \"exampleInputPassword1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 37\n      }\n    }, \"Password\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"password\",\n      className: \"border-top-0 border-left-0 border-right-0 rounded-0 form-control\",\n      value: this.state.password,\n      onChange: e => this.setPassword(e.target.value),\n      id: \"password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 37\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      class: \"btn btn-primary w-100\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 37\n      }\n    }, \"Submit\")), /*#__PURE__*/React.createElement(\"a\", {\n      href: \"#\",\n      className: \"text-muted\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"small\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 68\n      }\n    }, \"Register\")), /*#__PURE__*/React.createElement(\"a\", {\n      className: \"float-right text-muted font-size\",\n      href: \"#\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 95\n      }\n    }, /*#__PURE__*/React.createElement(\"small\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 152\n      }\n    }, \"Need help?\")))))));\n  }\n\n}\n\nexport default withRouter(LoginBox);","map":{"version":3,"sources":["C:/Users/pjk14/Desktop/Gradely/gradely-react/src/components/login/LoginBox.js"],"names":["React","Component","useState","BrowserRouter","Router","NavLink","Switch","Route","Link","Redirect","withRouter","LoginPage","axios","FadeIn","Bounce","Slide","LoginBox","constructor","props","handleSubmitError","bind","handleSubmit","adminLogin","teacherLogin","districtLogin","state","email","password","message","staffMessage","setEmail","value","setState","setPassword","route","path","text","document","getElementById","style","display","staffLogin","otherLogin","event","preventDefault","length","user","indexOf","location","pathname","post","then","response","console","log","data","staff","sessionStorage","setItem","history","push","clear","catch","render","e","target"],"mappings":"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","sourcesContent":["import React, { Component, useState } from 'react';\r\nimport {\r\n    BrowserRouter as Router,\r\n    NavLink,\r\n    Switch,\r\n    Route,\r\n    Link,\r\n    Redirect,\r\n    withRouter\r\n} from \"react-router-dom\";\r\nimport LoginPage from '../../pages/login/LoginPage';\r\nimport axios from 'axios';\r\nimport FadeIn from 'react-fade-in';\r\nimport Bounce from 'react-reveal/Bounce'\r\nimport Slide from 'react-reveal/Slide'\r\n\r\n\r\n\r\nclass LoginBox extends Component {\r\n    constructor(props) {\r\n        super()\r\n        this.handleSubmitError = this.handleSubmitError.bind(this)\r\n        this.handleSubmit = this.handleSubmit.bind(this)\r\n        this.adminLogin = this.adminLogin.bind(this)\r\n        this.teacherLogin = this.teacherLogin.bind(this)\r\n        this.districtLogin = this.districtLogin.bind(this)\r\n        this.state = {\r\n            email: \"\",\r\n            password: \"\",\r\n            message: \"\",\r\n            staffMessage: \"\"\r\n        }\r\n    }\r\n\r\n    setEmail(value) {\r\n        this.setState({\r\n            email: value\r\n        })\r\n    }\r\n\r\n    setPassword(value) {\r\n        this.setState({\r\n            password: value\r\n        })\r\n    }\r\n\r\n    route(path) {\r\n\r\n    }\r\n\r\n    handleSubmitError(text) {\r\n        this.setState({\r\n            message: text\r\n        })\r\n        document.getElementById(\"error-text\").style = { display: \"block\" }\r\n    }\r\n\r\n    staffLogin() {\r\n        document.getElementById(\"staff-login\").style = { display: \"block\" }\r\n    }\r\n\r\n    otherLogin() {\r\n        document.getElementById(\"staff-login\").style = { display: \"none\" }\r\n    }\r\n\r\n    adminLogin() {\r\n        this.setState({\r\n            staffMessage: \"Admin\"\r\n        })\r\n\r\n        document.getElementById(\"staff-message\").style = {display: \"block\"}\r\n    }\r\n\r\n    teacherLogin() {\r\n        this.setState({\r\n            staffMessage: \"Teacher\"\r\n        })\r\n\r\n        document.getElementById(\"staff-message\").style = {display: \"block\"}\r\n    }\r\n\r\n    districtLogin() {\r\n        this.setState({\r\n            staffMessage: \"District\"\r\n        })\r\n\r\n        document.getElementById(\"staff-message\").style = {display: \"block\"}\r\n    }\r\n\r\n\r\n\r\n    handleSubmit(event) {\r\n        event.preventDefault()\r\n\r\n        if (this.state.email.length > 0 && this.state.password.length > 0) {\r\n            const user = {\r\n                \"email\": this.state.email,\r\n                \"password\": this.state.password\r\n            }\r\n\r\n            if ([\"student\", \"parent\", \"staff\"].indexOf(this.props.location.pathname) > -1) {\r\n\r\n                this.handleSubmitError(\"Please Select a User Type\")\r\n\r\n            } else (\r\n                axios.post(`http://localhost:8080/${this.props.location.pathname}/login?email=${this.state.email}&password=${this.state.password}`)\r\n                    .then((response) => {\r\n                        console.log(response.data)\r\n                        if (response.data != \"\") {\r\n                            console.log(response.data.staff)\r\n                            sessionStorage.setItem(\"user\", response.data.user.email);\r\n\r\n                            switch (this.props.location.pathname) {\r\n                                case \"/staff\":\r\n                                    this.props.history.push('/admin/home')\r\n                                    break;\r\n                                case \"/student\":\r\n                                    this.props.history.push('/student/home')\r\n                                    break;\r\n                                case \"/staff\":\r\n                                    this.props.history.push('/teacher/home')\r\n                                    break;\r\n\r\n                                default:\r\n                                    break;\r\n                            }\r\n\r\n                        } else {\r\n\r\n                            sessionStorage.clear()\r\n                            this.handleSubmitError(\"Username or password is incorrect\")\r\n                        }\r\n                    }).catch()\r\n            )\r\n        } else {\r\n            this.handleSubmitError(\"Username or Password cannot be blank\")\r\n        }\r\n    }\r\n\r\n    render() {\r\n\r\n        return (\r\n            <FadeIn transitionDuration={1000}>\r\n                <div className=\"mt-5 mx-auto w-50 p-3\">\r\n                    <div className=\"rounded-lg shadow p-3 bg-light\">\r\n\r\n                        <ul className=\"nav nav-tabs\">\r\n                            <li className=\"nav-item\">\r\n                                <NavLink activeClassName=\"active\" className=\"nav-link\" to=\"student\">Student</NavLink>\r\n                            </li>\r\n                            <li className=\"nav-item\">\r\n                                <NavLink activeClassName=\"active\" className=\"nav-link\" to=\"parent\">Parent</NavLink>\r\n                            </li>\r\n                            <li className=\"nav-item\" onClick={this.staffLogin}>\r\n                                <NavLink activeClassName=\"active\" className=\"nav-link\" to=\"staff\">Staff</NavLink>\r\n                            </li>\r\n                        </ul>\r\n\r\n                        <div id=\"staff-login\" className=\" my-2\" style={{ display: \"none\"}}>\r\n                            <div className=\"row nav\">\r\n                                <div className=\"mx-auto\">\r\n                                \r\n                                    <Slide top>\r\n                                        <NavLink\r\n                                            style = {{display: \"inline-block\"}} \r\n                                            activeClassName=\"active\" \r\n                                            className=\"btn btn-info mx-1 nav-item\" \r\n                                            to=\"teacher\" \r\n                                            onClick={this.teacherLogin}>Teacher</NavLink></Slide>\r\n                                    <Slide right><NavLink\r\n                                            style = {{display: \"inline\"}} \r\n                                            activeClassName=\"active\" \r\n                                            className=\"btn btn-info mx-1 nav-item\" \r\n                                            to=\"teacher\" \r\n                                            onClick={this.teacherLogin}>Admin</NavLink></Slide>\r\n                                    <Slide left><NavLink\r\n                                            style = {{display: \"inline\"}} \r\n                                            activeClassName=\"active\" \r\n                                            className=\"btn btn-info mx-1 nav=item\" \r\n                                            to=\"teacher\" \r\n                                            onClick={this.teacherLogin}>District</NavLink></Slide>\r\n                                \r\n                                </div>\r\n\r\n                            </div>\r\n                        </div>\r\n\r\n                        <Bounce>\r\n                            <div id=\"error-text\" style={{ display: \"none\" }}>\r\n                                <small className=\"text-danger\">{this.state.message}</small>\r\n                            </div>\r\n                        </Bounce>\r\n                        <div>\r\n                            <form onSubmit={this.handleSubmit}>\r\n\r\n                                <div class=\"form-group mt-4\">\r\n                                    <label for=\"exampleInputEmail1\">Email address  </label>\r\n                                        \r\n                                        <span style={{display: \"none\"}} id=\"staff-message\" \r\n                                        className=\"float-right text-muted\"><Bounce spy={this.state.staffMessage}>{this.state.staffMessage}</Bounce></span>\r\n\r\n                                    <input\r\n                                        type=\"email\"\r\n                                        className=\"border-top-0 border-left-0 border-right-0 rounded-0 form-control\"\r\n                                        value={this.state.email}\r\n                                        autoFocus\r\n                                        onChange={e => this.setEmail(e.target.value)}\r\n                                        id=\"email\"\r\n                                        aria-describedby=\"Email Address\" />\r\n                                    <small id=\"emailHelp\" className=\"form-text text-muted\"></small>\r\n                                </div>\r\n                                <div class=\"form-group\">\r\n                                    <label for=\"exampleInputPassword1\">Password</label>\r\n                                    <input\r\n                                        type=\"password\"\r\n                                        className=\"border-top-0 border-left-0 border-right-0 rounded-0 form-control\"\r\n                                        value={this.state.password}\r\n                                        onChange={e => this.setPassword(e.target.value)}\r\n                                        id=\"password\" />\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <button type=\"submit\" class=\"btn btn-primary w-100\">Submit</button>\r\n                                </div>\r\n                                <a href=\"#\" className=\"text-muted\"><small>Register</small></a><a className=\"float-right text-muted font-size\" href=\"#\"><small>Need help?</small></a>\r\n\r\n                            </form>\r\n                        </div>\r\n\r\n                    </div>\r\n                </div>\r\n            </FadeIn>\r\n\r\n\r\n\r\n\r\n        );\r\n    }\r\n}\r\n\r\nexport default withRouter(LoginBox);"]},"metadata":{},"sourceType":"module"}